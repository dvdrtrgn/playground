function initSender(){var a=require(null,"ace/lib/event_emitter").EventEmitter;var b=require(null,"ace/lib/oop");var c=function(){};(function(){b.implement(this,a);this.callback=function(a,b){postMessage({type:"call",id:b,data:a})};this.emit=function(a,b){postMessage({type:"event",name:a,data:b})}}).call(c.prototype);return new c}function initBaseUrls(a){require.tlns=a}"no use strict";var console={log:function(a){postMessage({type:"log",data:a})}};var window={console:console};var normalizeModule=function(a,b){if(b.indexOf("!")!==-1){var c=b.split("!");return normalizeModule(a,c[0])+"!"+normalizeModule(a,c[1])}if(b.charAt(0)=="."){var d=a.split("/").slice(0,-1).join("/");var b=d+"/"+b;while(b.indexOf(".")!==-1&&e!=b){var e=b;var b=b.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return b};var require=function(a,b){var b=normalizeModule(a,b);var c=require.modules[b];if(c){if(!c.initialized){c.exports=c.factory().exports;c.initialized=true}return c.exports}var d=b.split("/");d[0]=require.tlns[d[0]]||d[0];var e=d.join("/")+".js";require.id=b;importScripts(e);return require(a,b)};require.modules={};require.tlns={};var define=function(a,b,c){if(arguments.length==2){c=b}else if(arguments.length==1){c=a;a=require.id}if(a.indexOf("text!")===0)return;var d=function(b,c){return require(a,b,c)};require.modules[a]={factory:function(){var a={exports:{}};var b=c(d,a.exports,a);if(b)a.exports=b;return a}}};var main;var sender;onmessage=function(a){var b=a.data;if(b.command){main[b.command].apply(main,b.args)}else if(b.init){initBaseUrls(b.tlns);require(null,"ace/lib/fixoldbrowsers");sender=initSender();var c=require(null,b.module)[b.classname];main=new c(sender)}else if(b.event&&sender){sender._emit(b.event,b.data)}};define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(a,b,c){"use strict";a("./regexp");a("./es5-shim")});define("ace/lib/regexp",["require","exports","module"],function(a,b,c){function h(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b,c);for(var d=c||0;d<a.length;d++){if(a[d]===b)return d}return-1}function g(a){return(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}"use strict";var d={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},e=d.exec.call(/()??/,"")[1]===undefined,f=function(){var a=/^/g;d.test.call(a,"");return!a.lastIndex}();RegExp.prototype.exec=function(a){var b=d.exec.apply(this,arguments),c,i;if(typeof a=="string"&&b){if(!e&&b.length>1&&h(b,"")>-1){i=RegExp(this.source,d.replace.call(g(this),"g",""));d.replace.call(a.slice(b.index),i,function(){for(var a=1;a<arguments.length-2;a++){if(arguments[a]===undefined)b[a]=undefined}})}if(this._xregexp&&this._xregexp.captureNames){for(var j=1;j<b.length;j++){c=this._xregexp.captureNames[j-1];if(c)b[c]=b[j]}}if(!f&&this.global&&!b[0].length&&this.lastIndex>b.index)this.lastIndex--}return b};if(!f){RegExp.prototype.test=function(a){var b=d.exec.call(this,a);if(b&&this.global&&!b[0].length&&this.lastIndex>b.index)this.lastIndex--;return!!b}}});define("ace/lib/es5-shim",["require","exports","module"],function(a,b,c){function p(a){try{Object.defineProperty(a,"sentinel",{});return"sentinel"in a}catch(b){}}if(!Function.prototype.bind){Function.prototype.bind=function H(a){var b=this;if(typeof b!="function")throw new TypeError;var c=g.call(arguments,1);var d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e;var h=b.apply(f,c.concat(g.call(arguments)));if(h!==null&&Object(h)===h)return h;return f}else{return b.apply(a,c.concat(g.call(arguments)))}};return d}}var d=Function.prototype.call;var e=Array.prototype;var f=Object.prototype;var g=e.slice;var h=d.bind(f.toString);var i=d.bind(f.hasOwnProperty);var j;var k;var l;var m;var n;if(n=i(f,"__defineGetter__")){j=d.bind(f.__defineGetter__);k=d.bind(f.__defineSetter__);l=d.bind(f.__lookupGetter__);m=d.bind(f.__lookupSetter__)}if(!Array.isArray){Array.isArray=function I(a){return h(a)=="[object Array]"}}if(!Array.prototype.forEach){Array.prototype.forEach=function J(a){var b=G(this),c=arguments[1],d=0,e=b.length>>>0;if(h(a)!="[object Function]"){throw new TypeError}while(d<e){if(d in b){a.call(c,b[d],d,b)}d++}}}if(!Array.prototype.map){Array.prototype.map=function K(a){var b=G(this),c=b.length>>>0,d=Array(c),e=arguments[1];if(h(a)!="[object Function]"){throw new TypeError}for(var f=0;f<c;f++){if(f in b)d[f]=a.call(e,b[f],f,b)}return d}}if(!Array.prototype.filter){Array.prototype.filter=function L(a){var b=G(this),c=b.length>>>0,d=[],e=arguments[1];if(h(a)!="[object Function]"){throw new TypeError}for(var f=0;f<c;f++){if(f in b&&a.call(e,b[f],f,b))d.push(b[f])}return d}}if(!Array.prototype.every){Array.prototype.every=function M(a){var b=G(this),c=b.length>>>0,d=arguments[1];if(h(a)!="[object Function]"){throw new TypeError}for(var e=0;e<c;e++){if(e in b&&!a.call(d,b[e],e,b))return false}return true}}if(!Array.prototype.some){Array.prototype.some=function N(a){var b=G(this),c=b.length>>>0,d=arguments[1];if(h(a)!="[object Function]"){throw new TypeError}for(var e=0;e<c;e++){if(e in b&&a.call(d,b[e],e,b))return true}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function O(a){var b=G(this),c=b.length>>>0;if(h(a)!="[object Function]"){throw new TypeError}if(!c&&arguments.length==1)throw new TypeError;var d=0;var e;if(arguments.length>=2){e=arguments[1]}else{do{if(d in b){e=b[d++];break}if(++d>=c)throw new TypeError}while(true)}for(;d<c;d++){if(d in b)e=a.call(void 0,e,b[d],d,b)}return e}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function P(a){var b=G(this),c=b.length>>>0;if(h(a)!="[object Function]"){throw new TypeError}if(!c&&arguments.length==1)throw new TypeError;var d,e=c-1;if(arguments.length>=2){d=arguments[1]}else{do{if(e in b){d=b[e--];break}if(--e<0)throw new TypeError}while(true)}do{if(e in this)d=a.call(void 0,d,b[e],e,b)}while(e--);return d}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function Q(a){var b=G(this),c=b.length>>>0;if(!c)return-1;var d=0;if(arguments.length>1)d=E(arguments[1]);d=d>=0?d:Math.max(0,c+d);for(;d<c;d++){if(d in b&&b[d]===a){return d}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function R(a){var b=G(this),c=b.length>>>0;if(!c)return-1;var d=c-1;if(arguments.length>1)d=Math.min(d,E(arguments[1]));d=d>=0?d:c-Math.abs(d);for(;d>=0;d--){if(d in b&&a===b[d])return d}return-1}}if(!Object.getPrototypeOf){Object.getPrototypeOf=function S(a){return a.__proto__||(a.constructor?a.constructor.prototype:f)}}if(!Object.getOwnPropertyDescriptor){var o="Object.getOwnPropertyDescriptor called on a "+"non-object: ";Object.getOwnPropertyDescriptor=function T(a,b){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError(o+a);if(!i(a,b))return;var c,d,e;c={enumerable:true,configurable:true};if(n){var g=a.__proto__;a.__proto__=f;var d=l(a,b);var e=m(a,b);a.__proto__=g;if(d||e){if(d)c.get=d;if(e)c.set=e;return c}}c.value=a[b];return c}}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function U(a){return Object.keys(a)}}if(!Object.create){Object.create=function V(a,b){var c;if(a===null){c={"__proto__":null}}else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a;c=new d;c.__proto__=a}if(b!==void 0)Object.defineProperties(c,b);return c}}if(Object.defineProperty){var q=p({});var r=typeof document=="undefined"||p(document.createElement("div"));if(!q||!r){var s=Object.defineProperty}}if(!Object.defineProperty||s){var t="Property description must be an object: ";var u="Object.defineProperty called on non-object: ";var v="getters & setters can not be defined "+"on this javascript engine";Object.defineProperty=function W(a,b,c){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError(u+a);if(typeof c!="object"&&typeof c!="function"||c===null)throw new TypeError(t+c);if(s){try{return s.call(Object,a,b,c)}catch(d){}}if(i(c,"value")){if(n&&(l(a,b)||m(a,b))){var e=a.__proto__;a.__proto__=f;delete a[b];a[b]=c.value;a.__proto__=e}else{a[b]=c.value}}else{if(!n)throw new TypeError(v);if(i(c,"get"))j(a,b,c.get);if(i(c,"set"))k(a,b,c.set)}return a}}if(!Object.defineProperties){Object.defineProperties=function X(a,b){for(var c in b){if(i(b,c))Object.defineProperty(a,c,b[c])}return a}}if(!Object.seal){Object.seal=function Y(a){return a}}if(!Object.freeze){Object.freeze=function Z(a){return a}}try{Object.freeze(function(){})}catch(w){Object.freeze=function $(a){return function b(b){if(typeof b=="function"){return b}else{return a(b)}}}(Object.freeze)}if(!Object.preventExtensions){Object.preventExtensions=function _(a){return a}}if(!Object.isSealed){Object.isSealed=function ba(a){return false}}if(!Object.isFrozen){Object.isFrozen=function bb(a){return false}}if(!Object.isExtensible){Object.isExtensible=function bc(a){if(Object(a)===a){throw new TypeError}var b="";while(i(a,b)){b+="?"}a[b]=true;var c=i(a,b);delete a[b];return c}}if(!Object.keys){var x=true,y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],z=y.length;for(var A in{toString:null})x=false;Object.keys=function bd(a){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError("Object.keys called on a non-object");var bd=[];for(var b in a){if(i(a,b)){bd.push(b)}}if(x){for(var c=0,d=z;c<d;c++){var e=y[c];if(i(a,e)){bd.push(e)}}}return bd}}if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1){Date.prototype.toISOString=function be(){var a,b,c,d;if(!isFinite(this))throw new RangeError;a=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];d=this.getUTCFullYear();d=(d<0?"-":d>9999?"+":"")+("00000"+Math.abs(d)).slice(0<=d&&d<=9999?-4:-6);b=a.length;while(b--){c=a[b];if(c<10)a[b]="0"+c}return d+"-"+a.slice(0,2).join("-")+"T"+a.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}}if(!Date.now){Date.now=function bf(){return(new Date).getTime()}}if(!Date.prototype.toJSON){Date.prototype.toJSON=function bg(a){if(typeof this.toISOString!="function")throw new TypeError;return this.toISOString()}}if(Date.parse("+275760-09-13T00:00:00.000Z")!==864e13){Date=function(a){var b=function e(b,c,d,f,g,h,i){var j=arguments.length;if(this instanceof a){var k=j==1&&String(b)===b?new a(e.parse(b)):j>=7?new a(b,c,d,f,g,h,i):j>=6?new a(b,c,d,f,g,h):j>=5?new a(b,c,d,f,g):j>=4?new a(b,c,d,f):j>=3?new a(b,c,d):j>=2?new a(b,c):j>=1?new a(b):new a;k.constructor=e;return k}return a.apply(this,arguments)};var c=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:\\.(\\d{3}))?"+")?"+"(?:"+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");for(var d in a)b[d]=a[d];b.now=a.now;b.UTC=a.UTC;b.prototype=a.prototype;b.prototype.constructor=b;b.parse=function f(b){var d=c.exec(b);if(d){d.shift();for(var e=1;e<7;e++){d[e]=+(d[e]||(e<3?1:0));if(e==1)d[e]--}var f=+d.pop(),g=+d.pop(),h=d.pop();var i=0;if(h){if(g>23||f>59)return NaN;i=(g*60+f)*6e4*(h=="+"?-1:1)}var j=+d[0];if(0<=j&&j<=99){d[0]=j+400;return a.UTC.apply(this,d)+i-126227808e5}return a.UTC.apply(this,d)+i}return a.parse.apply(this,arguments)};return b}(Date)}var B="\t\n\f\r   ᠎    "+"         　\u2028"+"\u2029﻿";if(!String.prototype.trim||B.trim()){B="["+B+"]";var C=new RegExp("^"+B+B+"*"),D=new RegExp(B+B+"*$");String.prototype.trim=function bh(){return String(this).replace(C,"").replace(D,"")}}var E=function(a){a=+a;if(a!==a)a=0;else if(a!==0&&a!==1/0&&a!==-(1/0))a=(a>0||-1)*Math.floor(Math.abs(a));return a};var F="a"[0]!="a",G=function(a){if(a==null){throw new TypeError}if(F&&typeof a=="string"&&a){return a.split("")}return Object(a)}});define("ace/lib/event_emitter",["require","exports","module"],function(a,b,c){"use strict";var d={};d._emit=d._dispatchEvent=function(a,b){this._eventRegistry=this._eventRegistry||{};this._defaultHandlers=this._defaultHandlers||{};var c=this._eventRegistry[a]||[];var d=this._defaultHandlers[a];if(!c.length&&!d)return;b=b||{};b.type=a;if(!b.stopPropagation){b.stopPropagation=function(){this.propagationStopped=true}}if(!b.preventDefault){b.preventDefault=function(){this.defaultPrevented=true}}for(var e=0;e<c.length;e++){c[e](b);if(b.propagationStopped)break}if(d&&!b.defaultPrevented)d(b)};d.setDefaultHandler=function(a,b){this._defaultHandlers=this._defaultHandlers||{};if(this._defaultHandlers[a])throw new Error("The default handler for '"+a+"' is already set");this._defaultHandlers[a]=b};d.on=d.addEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(!c)var c=this._eventRegistry[a]=[];if(c.indexOf(b)==-1)c.push(b)};d.removeListener=d.removeEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(!c)return;var d=c.indexOf(b);if(d!==-1)c.splice(d,1)};d.removeAllListeners=function(a){if(this._eventRegistry)this._eventRegistry[a]=[]};b.EventEmitter=d});define("ace/lib/oop",["require","exports","module"],function(a,b,c){"use strict";b.inherits=function(){var a=function(){};return function(b,c){a.prototype=c.prototype;b.super_=c.prototype;b.prototype=new a;b.prototype.constructor=b}}();b.mixin=function(a,b){for(var c in b){a[c]=b[c]}};b.implement=function(a,c){b.mixin(a,c)}});define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/worker/jshint","ace/narcissus/jsparse"],function(a,b,c){"use strict";var d=a("../lib/oop");var e=a("../worker/mirror").Mirror;var f=a("../worker/jshint").JSHINT;var g=b.JavaScriptWorker=function(a){e.call(this,a);this.setTimeout(100)};d.inherits(g,e);(function(){this.onUpdate=function(){var b=this.doc.getValue();b=b.replace(/^#!.*\n/,"\n");var c=a("../narcissus/jsparse");try{c.parse(b)}catch(d){var e=d.message.split(":");var g=e.pop().trim();var h=parseInt(e.pop().trim())-1;this.sender.emit("narcissus",{row:h,column:null,text:g,type:"error"});return}finally{}f(b,{undef:false,onevar:false,passfail:false});this.sender.emit("jslint",f.errors)}}).call(g.prototype)});define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(a,b,c){"use strict";var d=a("../document").Document;var e=a("../lib/lang");var f=b.Mirror=function(a){this.sender=a;var b=this.doc=new d("");var c=this.deferredUpdate=e.deferredCall(this.onUpdate.bind(this));var f=this;a.on("change",function(a){b.applyDeltas([a.data]);c.schedule(f.$timeout)})};(function(){this.$timeout=500;this.setTimeout=function(a){this.$timeout=a};this.setValue=function(a){this.doc.setValue(a);this.deferredUpdate.schedule(this.$timeout)};this.getValue=function(a){this.sender.callback(this.doc.getValue(),a)};this.onUpdate=function(){}}).call(f.prototype)});define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,b,c){"use strict";var d=a("./lib/oop");var e=a("./lib/event_emitter").EventEmitter;var f=a("./range").Range;var g=a("./anchor").Anchor;var h=function(a){this.$lines=[];if(Array.isArray(a)){this.insertLines(0,a)}else if(a.length==0){this.$lines=[""]}else{this.insert({row:0,column:0},a)}};(function(){d.implement(this,e);this.setValue=function(a){var b=this.getLength();this.remove(new f(0,0,b,this.getLine(b-1).length));this.insert({row:0,column:0},a)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(a,b){return new g(this,a,b)};if("aaa".split(/a/).length==0)this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")};else this.$split=function(a){return a.split(/\r\n|\r|\n/)};this.$detectNewLine=function(a){var b=a.match(/^.*?(\r\n|\r|\n)/m);if(b){this.$autoNewLine=b[1]}else{this.$autoNewLine="\n"}};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";case"auto":return this.$autoNewLine}};this.$autoNewLine="\n";this.$newLineMode="auto";this.setNewLineMode=function(a){if(this.$newLineMode===a)return;this.$newLineMode=a};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(a){return a=="\r\n"||a=="\r"||a=="\n"};this.getLine=function(a){return this.$lines[a]||""};this.getLines=function(a,b){return this.$lines.slice(a,b+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(a){if(a.start.row==a.end.row){return this.$lines[a.start.row].substring(a.start.column,a.end.column)}else{var b=[];b.push(this.$lines[a.start.row].substring(a.start.column));b.push.apply(b,this.getLines(a.start.row+1,a.end.row-1));b.push(this.$lines[a.end.row].substring(0,a.end.column));return b.join(this.getNewLineCharacter())}};this.$clipPosition=function(a){var b=this.getLength();if(a.row>=b){a.row=Math.max(0,b-1);a.column=this.getLine(b-1).length}return a};this.insert=function(a,b){if(b.length==0)return a;a=this.$clipPosition(a);if(this.getLength()<=1)this.$detectNewLine(b);var c=this.$split(b);var d=c.splice(0,1)[0];var e=c.length==0?null:c.splice(c.length-1,1)[0];a=this.insertInLine(a,d);if(e!==null){a=this.insertNewLine(a);a=this.insertLines(a.row,c);a=this.insertInLine(a,e||"")}return a};this.insertLines=function(a,b){if(b.length==0)return{row:a,column:0};var c=[a,0];c.push.apply(c,b);this.$lines.splice.apply(this.$lines,c);var d=new f(a,0,a+b.length,0);var e={action:"insertLines",range:d,lines:b};this._emit("change",{data:e});return d.end};this.insertNewLine=function(a){a=this.$clipPosition(a);var b=this.$lines[a.row]||"";this.$lines[a.row]=b.substring(0,a.column);this.$lines.splice(a.row+1,0,b.substring(a.column,b.length));var c={row:a.row+1,column:0};var d={action:"insertText",range:f.fromPoints(a,c),text:this.getNewLineCharacter()};this._emit("change",{data:d});return c};this.insertInLine=function(a,b){if(b.length==0)return a;var c=this.$lines[a.row]||"";this.$lines[a.row]=c.substring(0,a.column)+b+c.substring(a.column);var d={row:a.row,column:a.column+b.length};var e={action:"insertText",range:f.fromPoints(a,d),text:b};this._emit("change",{data:e});return d};this.remove=function(a){a.start=this.$clipPosition(a.start);a.end=this.$clipPosition(a.end);if(a.isEmpty())return a.start;var b=a.start.row;var c=a.end.row;if(a.isMultiLine()){var d=a.start.column==0?b:b+1;var e=c-1;if(a.end.column>0)this.removeInLine(c,0,a.end.column);if(e>=d)this.removeLines(d,e);if(d!=b){this.removeInLine(b,a.start.column,this.getLine(b).length);this.removeNewLine(a.start.row)}}else{this.removeInLine(b,a.start.column,a.end.column)}return a.start};this.removeInLine=function(a,b,c){if(b==c)return;var d=new f(a,b,a,c);var e=this.getLine(a);var g=e.substring(b,c);var h=e.substring(0,b)+e.substring(c,e.length);this.$lines.splice(a,1,h);var i={action:"removeText",range:d,text:g};this._emit("change",{data:i});return d.start};this.removeLines=function(a,b){var c=new f(a,0,b+1,0);var d=this.$lines.splice(a,b-a+1);var e={action:"removeLines",range:c,nl:this.getNewLineCharacter(),lines:d};this._emit("change",{data:e});return d};this.removeNewLine=function(a){var b=this.getLine(a);var c=this.getLine(a+1);var d=new f(a,b.length,a+1,0);var e=b+c;this.$lines.splice(a,2,e);var g={action:"removeText",range:d,text:this.getNewLineCharacter()};this._emit("change",{data:g})};this.replace=function(a,b){if(b.length==0&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);if(b){var c=this.insert(a.start,b)}else{c=a.start}return c};this.applyDeltas=function(a){for(var b=0;b<a.length;b++){var c=a[b];var d=f.fromPoints(c.range.start,c.range.end);if(c.action=="insertLines")this.insertLines(d.start.row,c.lines);else if(c.action=="insertText")this.insert(d.start,c.text);else if(c.action=="removeLines")this.removeLines(d.start.row,d.end.row-1);else if(c.action=="removeText")this.remove(d)}};this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--){var c=a[b];var d=f.fromPoints(c.range.start,c.range.end);if(c.action=="insertLines")this.removeLines(d.start.row,d.end.row-1);else if(c.action=="insertText")this.remove(d);else if(c.action=="removeLines")this.insertLines(d.start.row,c.lines);else if(c.action=="removeText")this.insert(d.start,c.text)}}}).call(h.prototype);b.Document=h});define("ace/range",["require","exports","module"],function(a,b,c){"use strict";var d=function(a,b,c,d){this.start={row:a,column:b};this.end={row:c,column:d}};(function(){this.isEequal=function(a){return this.start.row==a.start.row&&this.end.row==a.end.row&&this.start.column==a.start.column&&this.end.column==a.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(a,b){return this.compare(a,b)==0};this.compareRange=function(a){var b,c=a.end,d=a.start;b=this.compare(c.row,c.column);if(b==1){b=this.compare(d.row,d.column);if(b==1){return 2}else if(b==0){return 1}else{return 0}}else if(b==-1){return-2}else{b=this.compare(d.row,d.column);if(b==-1){return-1}else if(b==1){return 42}else{return 0}}};this.comparePoint=function(a){return this.compare(a.row,a.column)};this.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0};this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b};this.isStart=function(a,b){return this.start.row==a&&this.start.column==b};this.setStart=function(a,b){if(typeof a=="object"){this.start.column=a.column;this.start.row=a.row}else{this.start.row=a;this.start.column=b}};this.setEnd=function(a,b){if(typeof a=="object"){this.end.column=a.column;this.end.row=a.row}else{this.end.row=a;this.end.column=b}};this.inside=function(a,b){if(this.compare(a,b)==0){if(this.isEnd(a,b)||this.isStart(a,b)){return false}else{return true}}return false};this.insideStart=function(a,b){if(this.compare(a,b)==0){if(this.isEnd(a,b)){return false}else{return true}}return false};this.insideEnd=function(a,b){if(this.compare(a,b)==0){if(this.isStart(a,b)){return false}else{return true}}return false};this.compare=function(a,b){if(!this.isMultiLine()){if(a===this.start.row){return b<this.start.column?-1:b>this.end.column?1:0}}if(a<this.start.row)return-1;if(a>this.end.row)return 1;if(this.start.row===a)return b>=this.start.column?0:-1;if(this.end.row===a)return b<=this.end.column?0:1;return 0};this.compareStart=function(a,b){if(this.start.row==a&&this.start.column==b){return-1}else{return this.compare(a,b)}};this.compareEnd=function(a,b){if(this.end.row==a&&this.end.column==b){return 1}else{return this.compare(a,b)}};this.compareInside=function(a,b){if(this.end.row==a&&this.end.column==b){return 1}else if(this.start.row==a&&this.start.column==b){return-1}else{return this.compare(a,b)}};this.clipRows=function(a,b){if(this.end.row>b){var c={row:b+1,column:0}}if(this.start.row>b){var e={row:b+1,column:0}}if(this.start.row<a){var e={row:a,column:0}}if(this.end.row<a){var c={row:a,column:0}}return d.fromPoints(e||this.start,c||this.end)};this.extend=function(a,b){var c=this.compare(a,b);if(c==0)return this;else if(c==-1)var e={row:a,column:b};else var f={row:a,column:b};return d.fromPoints(e||this.start,f||this.end)};this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return d.fromPoints(this.start,this.end)};this.collapseRows=function(){if(this.end.column==0)return new d(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);else return new d(this.start.row,0,this.end.row,0)};this.toScreenRange=function(a){var b=a.documentToScreenPosition(this.start);var c=a.documentToScreenPosition(this.end);return new d(b.row,b.column,c.row,c.column)}}).call(d.prototype);d.fromPoints=function(a,b){return new d(a.row,a.column,b.row,b.column)};b.Range=d});define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop");var e=a("./lib/event_emitter").EventEmitter;var f=b.Anchor=function(a,b,c){this.document=a;if(typeof c=="undefined")this.setPosition(b.row,b.column);else this.setPosition(b,c);this.$onChange=this.onChange.bind(this);a.on("change",this.$onChange)};(function(){d.implement(this,e);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.onChange=function(a){var b=a.data;var c=b.range;if(c.start.row==c.end.row&&c.start.row!=this.row)return;if(c.start.row>this.row)return;if(c.start.row==this.row&&c.start.column>this.column)return;var d=this.row;var e=this.column;if(b.action==="insertText"){if(c.start.row===d&&c.start.column<=e){if(c.start.row===c.end.row){e+=c.end.column-c.start.column}else{e-=c.start.column;d+=c.end.row-c.start.row}}else if(c.start.row!==c.end.row&&c.start.row<d){d+=c.end.row-c.start.row}}else if(b.action==="insertLines"){if(c.start.row<=d){d+=c.end.row-c.start.row}}else if(b.action=="removeText"){if(c.start.row==d&&c.start.column<e){if(c.end.column>=e)e=c.start.column;else e=Math.max(0,e-(c.end.column-c.start.column))}else if(c.start.row!==c.end.row&&c.start.row<d){if(c.end.row==d){e=Math.max(0,e-c.end.column)+c.start.column}d-=c.end.row-c.start.row}else if(c.end.row==d){d-=c.end.row-c.start.row;e=Math.max(0,e-c.end.column)+c.start.column}}else if(b.action=="removeLines"){if(c.start.row<=d){if(c.end.row<=d)d-=c.end.row-c.start.row;else{d=c.start.row;e=0}}}this.setPosition(d,e,true)};this.setPosition=function(a,b,c){var d;if(c){d={row:a,column:b}}else{d=this.$clipPositionToDocument(a,b)}if(this.row==d.row&&this.column==d.column)return;var e={row:this.row,column:this.column};this.row=d.row;this.column=d.column;this._emit("change",{old:e,value:d})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.$clipPositionToDocument=function(a,b){var c={};if(a>=this.document.getLength()){c.row=Math.max(0,this.document.getLength()-1);c.column=this.document.getLine(c.row).length}else if(a<0){c.row=0;c.column=0}else{c.row=a;c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))}if(b<0)c.column=0;return c}}).call(f.prototype)});define("ace/lib/lang",["require","exports","module"],function(a,b,c){"use strict";b.stringReverse=function(a){return a.split("").reverse().join("")};b.stringRepeat=function(a,b){return(new Array(b+1)).join(a)};var d=/^\s\s*/;var e=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(d,"")};b.stringTrimRight=function(a){return a.replace(e,"")};b.copyObject=function(a){var b={};for(var c in a){b[c]=a[c]}return b};b.copyArray=function(a){var b=[];for(var c=0,d=a.length;c<d;c++){if(a[c]&&typeof a[c]=="object")b[c]=this.copyObject(a[c]);else b[c]=a[c]}return b};b.deepCopy=function(a){if(typeof a!="object"){return a}var b=a.constructor();for(var c in a){if(typeof a[c]=="object"){b[c]=this.deepCopy(a[c])}else{b[c]=a[c]}}return b};b.arrayToMap=function(a){var b={};for(var c=0;c<a.length;c++){b[a[c]]=1}return b};b.arrayRemove=function(a,b){for(var c=0;c<=a.length;c++){if(b===a[c]){a.splice(c,1)}}};b.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};b.deferredCall=function(a){var b=null;var c=function(){b=null;a()};var d=function(a){d.cancel();b=setTimeout(c,a||0);return d};d.schedule=d;d.call=function(){this.cancel();a();return d};d.cancel=function(){clearTimeout(b);b=null;return d};return d}});define("ace/worker/jshint",["require","exports","module"],function(a,b,c){var d=function(){function bZ(){function b(){var a=x;bm("[");if(x.id!=="]"){for(;;){if(x.id==="(end)"){bg("Missing ']' to match '[' from line {a}.",x,a.line)}else if(x.id==="]"){be("Unexpected comma.",O);break}else if(x.id===","){bg("Unexpected comma.",x)}bZ();if(x.id!==","){break}bm(",")}}bm("]")}function a(){var a={},b=x;bm("{");if(x.id!=="}"){for(;;){if(x.id==="(end)"){bg("Missing '}' to match '{' from line {a}.",x,b.line)}else if(x.id==="}"){be("Unexpected comma.",O);break}else if(x.id===","){bg("Unexpected comma.",x)}else if(x.id!=="(string)"){be("Expected a string and instead saw {a}.",x,x.value)}if(a[x.value]===true){be("Duplicate key '{a}'.",x,x.value)}else if(x.value==="__proto__"&&!A.proto||x.value==="__iterator__"&&!A.iterator){be("The '{a}' key may produce unexpected results.",x,x.value)}else{a[x.value]=true}bm();bm(":");bZ();if(x.id!==","){break}bm(",")}}bm("}")}switch(x.id){case"{":a();break;case"[":b();break;case"true":case"false":case"null":case"(number)":case"(string)":bm();break;case"-":bm("-");if(O.character!==x.from){be("Unexpected space after '-'.",O)}bo(O,x);bm("(number)");break;default:bg("Expected a JSON value.",x)}}function bX(b,c){var d,e=A,f=G;A=Object.create(A);G=Object.create(G);j={"(name)":b||'"'+a+'"',"(line)":x.line,"(context)":j,"(breakage)":0,"(loopage)":0,"(scope)":G,"(statement)":c};d=j;O.funct=j;l.push(j);if(b){bj(b,"function")}j["(params)"]=bW();bS(false);G=f;A=e;j["(last)"]=O.line;j=j["(context)"];return d}function bW(){var a,b=x,c=[];bm("(");bq();if(x.id===")"){bm(")");bq(D,O);return}for(;;){a=bN(true);c.push(a);bj(a,"parameter");if(x.id===","){bv()}else{bm(")",b);bq(D,O);return c}}}function bV(){var a=bM(true);if(!a){if(x.id==="(string)"){a=x.value;bm()}else if(x.id==="(number)"){a=x.value.toString();bm()}}return a}function bU(a){var b=a.value,c=a.line,d=n[b];if(typeof d==="function"){d=false}if(!d){d=[c];n[b]=d}else if(d[d.length-1]!==c){d.push(c)}}function bT(a){if(v&&typeof v[a]!=="boolean"){be("Unexpected /*member '{a}'.",O,a)}if(typeof u[a]==="number"){u[a]+=1}else{u[a]=1}}function bS(a,b){var c,d=o,e=p,f=L,g=G,h;o=a;G=Object.create(G);br(O,x);h=x;if(x.id==="{"){bm("{");if(x.id!=="}"||O.line!==x.line){p+=A.indent;while(!a&&x.from>p){p+=A.indent}if(!a&&!bQ()&&!f&&A.strict&&j["(context)"]["(global)"]){be('Missing "use strict" statement.')}c=bR();L=f;p-=A.indent;bt()}bm("}",h);p=e}else if(!a){bg("Expected '{a}' and instead saw '{b}'.",x,"{",x.value)}else{if(!b||A.curly)be("Expected '{a}' and instead saw '{b}'.",x,"{",x.value);z=true;c=[bP()];z=false}j["(verb)"]=null;G=g;o=d;if(a&&A.noempty&&(!c||c.length===0)){be("Empty block.")}return c}function bR(a){var b=[],c,d;while(!x.reach&&x.id!=="(end)"){if(x.id===";"){be("Unnecessary semicolon.");bm(";")}else{b.push(bP())}}return b}function bQ(){if(x.value==="use strict"){if(L){be('Unnecessary "use strict".')}bm();bm(";");L=true;A.newcap=true;A.undef=true;return true}else{return false}}function bP(a){var b=p,c,d=G,e=x;if(e.id===";"){be("Unnecessary semicolon.",e);bm(";");return}if(e.identifier&&!e.reserved&&bl().id===":"){bm();bm(":");G=Object.create(d);bj(e.value,"label");if(!x.labelled){be("Label '{a}' on {b} statement.",x,e.value,x.value)}if(Z.test(e.value+":")){be("Label '{a}' looks like a javascript url.",e,e.value)}x.label=e.value;e=x}if(!a){bt()}c=bn(0,true);if(!e.block){if(!A.expr&&(!c||!c.exps)){be("Expected an assignment or function call and instead saw an expression.",O)}else if(A.nonew&&c.id==="("&&c.left.id==="new"){be("Do not use 'new' for side effects.")}if(x.id!==";"){if(!A.asi&&!(A.lastsemic&&x.id=="}"&&x.line==O.line)){bf("Missing semicolon.",O.line,O.from+O.value.length)}}else{bo(O,x);bm(";");br(O,x)}}p=b;G=d;return c}function bO(a){var b=0,c;if(x.id!==";"||z){return}for(;;){c=bl(b);if(c.reach){return}if(c.id!=="(endline)"){if(c.id==="function"){be("Inner functions should be listed at the top of the outer function.",c);break}be("Unreachable '{a}' after '{b}'.",c,c.value,a);break}b+=1}}function bN(a){var b=bM(a);if(b){return b}if(O.id==="function"&&x.id==="("){be("Missing name in function declaration.")}else{bg("Expected an identifier and instead saw '{a}'.",x,x.value)}}function bM(a){if(x.identifier){bm();if(O.reserved&&!A.es5){if(!a||O.value!="undefined"){be("Expected an identifier and instead saw '{a}' (a reserved word).",O,O.id)}}return O.value}}function bL(a,b){var c=bw(a,150);c.led=function(a){if(A.plusplus){be("Unexpected use of '{a}'.",this,this.id)}else if((!a.identifier||a.reserved)&&a.id!=="."&&a.id!=="["){be("Bad operand.",this)}this.left=a;return this};return c}function bK(a){bw(a,20).exps=true;return bF(a,function(a,b){if(A.bitwise){be("Unexpected use of '{a}'.",b,b.id)}br(D,O);br(O,x);if(a){if(a.id==="."||a.id==="["||a.identifier&&!a.reserved){bn(19);return b}if(a===M["function"]){be("Expected an identifier in an assignment, and instead saw a function invocation.",O)}return b}bg("Bad assignment.",b)},20)}function bJ(a,b,c){var d=bw(a,c);bA(d);d.led=typeof b==="function"?b:function(a){if(A.bitwise){be("Unexpected use of '{a}'.",this,this.id)}this.left=a;this.right=bn(c);return this};return d}function bI(a,b){bw(a,20).exps=true;return bF(a,function(a,b){var c;b.left=a;if(B[a.value]===false&&G[a.value]["(global)"]===true){be("Read only.",a)}else if(a["function"]){be("'{a}' is a function.",a,a.value)}if(a){if(a.id==="."||a.id==="["){if(!a.left||a.left.value==="arguments"){be("Bad assignment.",b)}b.right=bn(19);return b}else if(a.identifier&&!a.reserved){if(j[a.value]==="exception"){be("Do not assign to the exception parameter.",a)}b.right=bn(19);return b}if(a===M["function"]){be("Expected an identifier in an assignment and instead saw a function invocation.",O)}}bg("Bad assignment.",b)},20)}function bH(a){return a&&(a.type==="(number)"&&+a.value===0||a.type==="(string)"&&a.value===""||a.type==="null"&&!A.eqnull||a.type==="true"||a.type==="false"||a.type==="undefined")}function bG(a,b){var c=bw(a,100);c.led=function(a){bs(D,O);br(O,x);var c=bn(100);if(a&&a.id==="NaN"||c&&c.id==="NaN"){be("Use the isNaN function to compare with NaN.",this)}else if(b){b.apply(this,[a,c])}if(a.id==="!"){be("Confusing use of '{a}'.",a,"!")}if(c.id==="!"){be("Confusing use of '{a}'.",a,"!")}this.left=a;this.right=c;return this};return c}function bF(a,b,c,d){var e=bw(a,c);bA(e);e.led=function(a){if(!d){bs(D,O);br(O,x)}if(typeof b==="function"){return b(a,this)}else{this.left=a;this.right=bn(c);return this}};return e}function bE(a,b){return bD(a,function(){if(typeof b==="function"){b(this)}return this})}function bD(a,b){var c=bC(a,b);c.identifier=c.reserved=true;return c}function bC(a,b){var c=bx(a);c.type=a;c.nud=b;return c}function bB(a,b){var c=bw(a,150);bA(c);c.nud=typeof b==="function"?b:function(){this.right=bn(150);this.arity="unary";if(this.id==="++"||this.id==="--"){if(A.plusplus){be("Unexpected use of '{a}'.",this,this.id)}else if((!this.right.identifier||this.right.reserved)&&this.right.id!=="."&&this.right.id!=="["){be("Bad operand.",this)}}return this};return c}function bA(a){var b=a.id.charAt(0);if(b>="a"&&b<="z"||b>="A"&&b<="Z"){a.identifier=a.reserved=true}return a}function bz(a,b){var c=by(a,b);c.block=true;return c}function by(a,b){var c=bx(a);c.identifier=c.reserved=true;c.fud=b;return c}function bx(a){return bw(a,0)}function bw(a,b){var c=M[a];if(!c||typeof c!=="object"){M[a]=c={id:a,lbp:b,value:a}}return c}function bv(){if(O.line!==x.line){if(!A.laxbreak){be("Bad line breaking before '{a}'.",O,x.id)}}else if(O.character!==x.from&&A.white){be("Unexpected space after '{a}'.",x,O.value)}bm(",");br(O,x)}function bu(a){a=a||O;if(a.line!==x.line){be("Line breaking error '{a}'.",a,a.value)}}function bt(a){var b;if(A.white&&x.id!=="(end)"){b=p+(a||0);if(x.from!==b){be("Expected '{a}' to have an indentation at {b} instead at {c}.",x,x.value,b,x.from)}}}function bs(a,b){a=a||O;b=b||x;if(!A.laxbreak&&a.line!==b.line){be("Bad line breaking before '{a}'.",b,b.id)}else if(A.white){a=a||O;b=b||x;if(a.character===b.from){be("Missing space after '{a}'.",x,a.value)}}}function br(a,b){if(A.white){a=a||O;b=b||x;if(a.line===b.line&&a.character===b.from){be("Missing space after '{a}'.",x,a.value)}}}function bq(a,b){a=a||O;b=b||x;if(A.white&&!a.comment){if(a.line===b.line){bo(a,b)}}}function bp(a,b){a=a||O;b=b||x;if(A.white&&(a.character!==b.from||a.line!==b.line)){be("Unexpected space before '{a}'.",b,b.value)}}function bo(a,b){a=a||O;b=b||x;if(A.white){if(a.character!==b.from&&a.line===b.line){be("Unexpected space after '{a}'.",b,a.value)}}}function bn(b,c){var d,e=false;if(x.id==="(end)")bg("Unexpected early end of program.",O);bm();if(c){a="anonymous";j["(verb)"]=O.value}if(c===true&&O.fud){d=O.fud()}else{if(O.nud){d=O.nud()}else{if(x.type==="(number)"&&O.id==="."){be("A leading decimal point can be confused with a dot: '.{a}'.",O,x.value);bm();return O}else{bg("Expected an identifier and instead saw '{a}'.",O,O.id)}}while(b<x.lbp){e=O.value=="Array";bm();if(e&&O.id=="("&&x.id==")")be("Use the array literal notation [].",O);if(O.led){d=O.led(d)}else{bg("Expected an operator and instead saw '{a}'.",O,O.id)}}}return d}function bm(b,c){switch(O.id){case"(number)":if(x.id==="."){be("A dot following a number can be confused with a decimal point.",O)}break;case"-":if(x.id==="-"||x.id==="--"){be("Confusing minusses.")}break;case"+":if(x.id==="+"||x.id==="++"){be("Confusing plusses.")}break}if(O.type==="(string)"||O.identifier){a=O.value}if(b&&x.id!==b){if(c){if(x.id==="(end)"){be("Unmatched '{a}'.",c,c.id)}else{be("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",x,b,c.id,c.line,x.value)}}else if(x.type!=="(identifier)"||x.value!==b){be("Expected '{a}' and instead saw '{b}'.",x,b,x.value)}}D=O;O=x;for(;;){x=t.shift()||bi.token();if(x.id==="(end)"||x.id==="(error)"){return}if(x.type==="special"){bk()}else{if(x.id!=="(endline)"){break}}}}function bl(a){var b=a||0,c=0,d;while(c<=b){d=t[c];if(!d){d=t[c]=bi.token()}c+=1}return d}function bk(){var a,b,d,e=x.value,f,g;switch(e){case"*/":bg("Unbegun comment.");break;case"/*members":case"/*member":e="/*members";if(!v){v={}}b=v;break;case"/*jshint":case"/*jslint":b=A;d=c;break;case"/*global":b=B;break;default:bg("What?")}f=bi.token();loop:for(;;){for(;;){if(f.type==="special"&&f.value==="*/"){break loop}if(f.id!=="(endline)"&&f.id!==","){break}f=bi.token()}if(f.type!=="(string)"&&f.type!=="(identifier)"&&e!=="/*members"){bg("Bad option.",f)}g=bi.token();if(g.id===":"){g=bi.token();if(b===v){bg("Expected '{a}' and instead saw '{b}'.",f,"*/",":")}if(f.value==="indent"&&(e==="/*jshint"||e==="/*jslint")){a=+g.value;if(typeof a!=="number"||!isFinite(a)||a<=0||Math.floor(a)!==a){bg("Expected a small integer and instead saw '{a}'.",g,g.value)}b.white=true;b.indent=a}else if(f.value==="maxerr"&&(e==="/*jshint"||e==="/*jslint")){a=+g.value;if(typeof a!=="number"||!isFinite(a)||a<=0||Math.floor(a)!==a){bg("Expected a small integer and instead saw '{a}'.",g,g.value)}b.maxerr=a}else if(f.value==="maxlen"&&(e==="/*jshint"||e==="/*jslint")){a=+g.value;if(typeof a!=="number"||!isFinite(a)||a<=0||Math.floor(a)!==a){bg("Expected a small integer and instead saw '{a}'.",g,g.value)}b.maxlen=a}else if(g.value==="true"){b[f.value]=true}else if(g.value==="false"){b[f.value]=false}else{bg("Bad option value.",g)}f=bi.token()}else{if(e==="/*jshint"||e==="/*jslint"){bg("Missing option value.",f)}b[f.value]=false;f=g}}if(d){bc()}}function bj(a,b){if(a==="hasOwnProperty"){be("'hasOwnProperty' is a really bad name.")}if(ba(j,a)&&!j["(global)"]){if(j[a]===true){if(A.latedef)be("'{a}' was used before it was defined.",x,a)}else{if(!A.shadow)be("'{a}' is already defined.",x,a)}}j[a]=b;if(j["(global)"]){m[a]=j;if(ba(n,a)){if(A.latedef)be("'{a}' was used before it was defined.",x,a);delete n[a]}}else{G[a]=j}}function bh(a,b,c,d,e,f,g){return bg(a,{line:b,from:c},d,e,f,g)}function bg(a,b,c,d,e,f){var g=be(a,b,c,d,e,f);bd("Stopping, unable to continue.",g.line,g.character)}function bf(a,b,c,d,e,f,g){return be(a,{line:b,from:c},d,e,f,g)}function be(a,b,c,e,f,g){var h,i,j;b=b||x;if(b.id==="(end)"){b=O}i=b.line||0;h=b.from||0;j={id:"(error)",raw:a,evidence:s[i-1]||"",line:i,character:h,a:c,b:e,c:f,d:g};j.reason=a.supplant(j);d.errors.push(j);if(A.passfail){bd("Stopping. ",i,h)}Q+=1;if(Q>=A.maxerr){bd("Too many errors.",i,h)}return j}function bd(a,b,c){var d=Math.floor(b/s.length*100);throw{name:"JSHintError",line:b,character:c,message:a+" ("+d+"% scanned)."}}function bc(){if(A.couch)bb(B,f);if(A.rhino)bb(B,F);if(A.prototypejs)bb(B,E);if(A.node)bb(B,y);if(A.devel)bb(B,g);if(A.dojo)bb(B,h);if(A.browser)bb(B,e);if(A.jquery)bb(B,r);if(A.mootools)bb(B,w);if(A.wsh)bb(B,R);if(A.globalstrict&&A.strict!==false)A.strict=true}function bb(a,b){var c;for(c in b){if(ba(b,c)){a[c]=b[c]}}}function ba(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function _(){}"use strict";var a,b={"<":true,"<=":true,"==":true,"===":true,"!==":true,"!=":true,">":true,">=":true,"+":true,"-":true,"*":true,"/":true,"%":true},c={asi:true,bitwise:true,boss:true,browser:true,couch:true,curly:true,debug:true,devel:true,dojo:true,eqeqeq:true,eqnull:true,es5:true,evil:true,expr:true,forin:true,globalstrict:true,immed:true,iterator:true,jquery:true,latedef:true,laxbreak:true,loopfunc:true,mootools:true,newcap:true,noarg:true,node:true,noempty:true,nonew:true,nomen:true,onevar:true,passfail:true,plusplus:true,proto:true,prototypejs:true,regexdash:true,regexp:true,rhino:true,undef:true,scripturl:true,shadow:true,strict:true,sub:true,supernew:true,trailing:true,white:true,wsh:true},e={ArrayBuffer:false,ArrayBufferView:false,addEventListener:false,applicationCache:false,blur:false,clearInterval:false,clearTimeout:false,close:false,closed:false,DataView:false,defaultStatus:false,document:false,event:false,FileReader:false,Float32Array:false,Float64Array:false,focus:false,frames:false,getComputedStyle:false,HTMLElement:false,history:false,Int16Array:false,Int32Array:false,Int8Array:false,Image:false,length:false,localStorage:false,location:false,moveBy:false,moveTo:false,name:false,navigator:false,onbeforeunload:true,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,onunload:true,open:false,openDatabase:false,opener:false,Option:false,parent:false,print:false,removeEventListener:false,resizeBy:false,resizeTo:false,screen:false,scroll:false,scrollBy:false,scrollTo:false,setInterval:false,setTimeout:false,status:false,top:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,WebSocket:false,window:false,Worker:false,XMLHttpRequest:false,XPathEvaluator:false,XPathException:false,XPathExpression:false,XPathNamespace:false,XPathNSResolver:false,XPathResult:false},f={require:false,respond:false,getRow:false,emit:false,send:false,start:false,sum:false,log:false,exports:false,module:false},g={alert:false,confirm:false,console:false,Debug:false,opera:false,prompt:false},h={dojo:false,dijit:false,dojox:false,define:false,require:false},i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},j,k=["closure","exception","global","label","outer","unused","var"],l,m,n,o,p,q,r={$:false,jQuery:false},s,t,u,v,w={$:false,$$:false,Assets:false,Browser:false,Chain:false,Class:false,Color:false,Cookie:false,Core:false,Document:false,DomReady:false,DOMReady:false,Drag:false,Element:false,Elements:false,Event:false,Events:false,Fx:false,Group:false,Hash:false,HtmlTable:false,Iframe:false,IframeShim:false,InputValidator:false,instanceOf:false,Keyboard:false,Locale:false,Mask:false,MooTools:false,Native:false,Options:false,OverText:false,Request:false,Scroller:false,Slick:false,Slider:false,Sortables:false,Spinner:false,Swiff:false,Tips:false,Type:false,typeOf:false,URI:false,Window:false},x,y={__filename:false,__dirname:false,exports:false,Buffer:false,GLOBAL:false,global:false,module:false,process:false,require:false},z,A,B,C,D,E={$:false,$$:false,$A:false,$F:false,$H:false,$R:false,$break:false,$continue:false,$w:false,Abstract:false,Ajax:false,Class:false,Enumerable:false,Element:false,Event:false,Field:false,Form:false,Hash:false,Insertion:false,ObjectRange:false,PeriodicalExecuter:false,Position:false,Prototype:false,Selector:false,Template:false,Toggle:false,Try:false,Autocompleter:false,Builder:false,Control:false,Draggable:false,Draggables:false,Droppables:false,Effect:false,Sortable:false,SortableObserver:false,Sound:false,Scriptaculous:false},F={defineClass:false,deserialize:false,gc:false,help:false,load:false,loadClass:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,sync:false,toint32:false,version:false},G,H,I,J={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,eval:false,EvalError:false,Function:false,hasOwnProperty:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,TypeError:false,URIError:false},K={E:true,LN2:true,LN10:true,LOG2E:true,LOG10E:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,PI:true,POSITIVE_INFINITY:true,SQRT1_2:true,SQRT2:true},L,M={},N,O,P,Q,R={ActiveXObject:true,Enumerator:true,GetObject:true,ScriptEngine:true,ScriptEngineBuildVersion:true,ScriptEngineMajorVersion:true,ScriptEngineMinorVersion:true,VBArray:true,WSH:true,WScript:true};var S,T,U,V,W,X,Y,Z,$;(function(){S=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i;T=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;U=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/;V=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;W=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;X=/\*\/|\/\*/;Y=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/;Z=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i;$=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/})();if(typeof Array.isArray!=="function"){Array.isArray=function(a){return Object.prototype.toString.apply(a)==="[object Array]"}}if(typeof Object.create!=="function"){Object.create=function(a){_.prototype=a;return new _}}if(typeof Object.keys!=="function"){Object.keys=function(a){var b=[],c;for(c in a){if(ba(a,c)){b.push(c)}}return b}}if(typeof String.prototype.entityify!=="function"){String.prototype.entityify=function(){return this.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")}}if(typeof String.prototype.isAlpha!=="function"){String.prototype.isAlpha=function(){return this>="a"&&this<="z￿"||this>="A"&&this<="Z￿"}}if(typeof String.prototype.isDigit!=="function"){String.prototype.isDigit=function(){return this>="0"&&this<="9"}}if(typeof String.prototype.supplant!=="function"){String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(b,c){var d=a[c];return typeof d==="string"||typeof d==="number"?d:b})}}if(typeof String.prototype.name!=="function"){String.prototype.name=function(){if(Y.test(this)){return this}if(V.test(this)){return'"'+this.replace(W,function(a){var b=i[a];if(b){return b}return"\\u"+("0000"+a.charCodeAt().toString(16)).slice(-4)})+'"'}return'"'+this+'"'}}var bi=function b_(){function f(d,e){var f,g;if(d==="(color)"||d==="(range)"){g={type:d}}else if(d==="(punctuator)"||d==="(identifier)"&&ba(M,e)){g=M[e]||M["(error)"]}else{g=M[d]}g=Object.create(g);if(d==="(string)"||d==="(range)"){if(!A.scripturl&&Z.test(e)){bf("Script URL.",c,b)}}if(d==="(identifier)"){g.identifier=true;if(e==="__proto__"&&!A.proto){bf("The '{a}' property is deprecated.",c,b,e)}else if(e==="__iterator__"&&!A.iterator){bf("'{a}' is only available in JavaScript 1.7.",c,b,e)}else if(A.nomen&&(e.charAt(0)==="_"||e.charAt(e.length-1)==="_")){bf("Unexpected {a} in '{b}'.",c,b,"dangling '_'",e)}}g.value=e;g.line=c;g.character=a;g.from=b;f=g.id;if(f!=="(endline)"){C=f&&("(,=:[!&|?{};".indexOf(f.charAt(f.length-1))>=0||f==="return")}return g}function e(){var b,e;if(c>=s.length)return false;a=1;d=s[c];c+=1;b=d.search(/ \t/);if(b>=0)bf("Mixed spaces and tabs.",c,b+1);d=d.replace(/\t/g,N);b=d.search(T);if(b>=0)bf("Unsafe character.",c,b);if(A.maxlen&&A.maxlen<d.length)bf("Line too long.",c,d.length);e=d.search(/\s+$/);if(A.trailing&&~e&&!~d.search(/^\s+$/))bf("Trailing whitespace.",c,e);return true}var a,b,c,d;return{init:function(a){if(typeof a==="string"){s=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}else{s=a}if(s[0]&&s[0].substr(0,2)=="#!")s[0]="";c=0;e();b=1},range:function(e,g){var h,i="";b=a;if(d.charAt(0)!==e){bh("Expected '{a}' and instead saw '{b}'.",c,a,e,d.charAt(0))}for(;;){d=d.slice(1);a+=1;h=d.charAt(0);switch(h){case"":bh("Missing '{a}'.",c,a,h);break;case g:d=d.slice(1);a+=1;return f("(range)",i);case"\\":bf("Unexpected '{a}'.",c,a,h)}i+=h}},token:function(){function t(g){function k(b){var e=parseInt(d.substr(i+1,b),16);i+=b;if(e>=32&&e<=126&&e!==34&&e!==92&&e!==39){bf("Unnecessary escapement.",c,a)}a+=b;h=String.fromCharCode(e)}var h,i,j="";if(q&&g!=='"'){bf("Strings must use doublequote.",c,a)}i=0;for(;;){while(i>=d.length){i=0;if(!e()){bh("Unclosed string.",c,b)}}h=d.charAt(i);if(h===g){a+=1;d=d.substr(i+1);return f("(string)",j,g)}if(h<" "){if(h==="\n"||h==="\r"){break}bf("Control character in string: {a}.",c,a+i,d.slice(0,i))}else if(h==="\\"){i+=1;a+=1;h=d.charAt(i);switch(h){case"\\":case'"':case"/":break;case"'":if(q){bf("Avoid \\'.",c,a)}break;case"b":h="\b";break;case"f":h="\f";break;case"n":h="\n";break;case"r":h="\r";break;case"t":h="\t";break;case"u":k(4);break;case"v":if(q){bf("Avoid \\v.",c,a)}h="";break;case"x":if(q){bf("Avoid \\x-.",c,a)}k(2);break;default:bf("Bad escapement.",c,a)}}j+=h;a+=1;i+=1}}function s(c){var e=c.exec(d),f;if(e){n=e[0].length;f=e[1];h=f.charAt(0);d=d.substr(n);b=a+n-f.length;a+=n;return f}}var g,h,i,j,k,l,m,n,o,p,r;for(;;){if(!d){return f(e()?"(endline)":"(end)","")}r=s(U);if(!r){r="";h="";while(d&&d<"!"){d=d.substr(1)}if(d){bh("Unexpected '{a}'.",c,a,d.substr(0,1))}}else{if(h.isAlpha()||h==="_"||h==="$"){return f("(identifier)",r)}if(h.isDigit()){if(!isFinite(Number(r))){bf("Bad number '{a}'.",c,a,r)}if(d.substr(0,1).isAlpha()){bf("Missing space after '{a}'.",c,a,r)}if(h==="0"){j=r.substr(1,1);if(j.isDigit()){if(O.id!=="."){bf("Don't use extra leading zeros '{a}'.",c,a,r)}}else if(q&&(j==="x"||j==="X")){bf("Avoid 0x-. '{a}'.",c,a,r)}}if(r.substr(r.length-1)==="."){bf("A trailing decimal point can be confused with a dot '{a}'.",c,a,r)}return f("(number)",r)}switch(r){case'"':case"'":return t(r);case"//":if(H){bf("Unexpected comment.",c,a)}d="";O.comment=true;break;case"/*":if(H){bf("Unexpected comment.",c,a)}for(;;){m=d.search(X);if(m>=0){break}if(!e()){bh("Unclosed comment.",c,a)}}a+=m+2;if(d.substr(m,1)==="/"){bh("Nested comment.",c,a)}d=d.substr(m+2);O.comment=true;break;case"/*members":case"/*member":case"/*jshint":case"/*jslint":case"/*global":case"*/":return{value:r,type:"special",line:c,character:a,from:b};case"":break;case"/":if(O.id==="/="){bh("A regular expression literal can be confused with '/='.",c,b)}if(C){k=0;i=0;n=0;for(;;){g=true;h=d.charAt(n);n+=1;switch(h){case"":bh("Unclosed regular expression.",c,b);return;case"/":if(k>0){bf("Unescaped '{a}'.",c,b+n,"/")}h=d.substr(0,n-1);p={g:true,i:true,m:true};while(p[d.charAt(n)]===true){p[d.charAt(n)]=false;n+=1}a+=n;d=d.substr(n);p=d.charAt(0);if(p==="/"||p==="*"){bh("Confusing regular expression.",c,b)}return f("(regexp)",h);case"\\":h=d.charAt(n);if(h<" "){bf("Unexpected control character in regular expression.",c,b+n)}else if(h==="<"){bf("Unexpected escaped character '{a}' in regular expression.",c,b+n,h)}n+=1;break;case"(":k+=1;g=false;if(d.charAt(n)==="?"){n+=1;switch(d.charAt(n)){case":":case"=":case"!":n+=1;break;default:bf("Expected '{a}' and instead saw '{b}'.",c,b+n,":",d.charAt(n))}}else{i+=1}break;case"|":g=false;break;case")":if(k===0){bf("Unescaped '{a}'.",c,b+n,")")}else{k-=1}break;case" ":p=1;while(d.charAt(n)===" "){n+=1;p+=1}if(p>1){bf("Spaces are hard to count. Use {{a}}.",c,b+n,p)}break;case"[":h=d.charAt(n);if(h==="^"){n+=1;if(A.regexp){bf("Insecure '{a}'.",c,b+n,h)}else if(d.charAt(n)==="]"){bh("Unescaped '{a}'.",c,b+n,"^")}}p=false;if(h==="]"){bf("Empty class.",c,b+n-1);p=true}klass:do{h=d.charAt(n);n+=1;switch(h){case"[":case"^":bf("Unescaped '{a}'.",c,b+n,h);p=true;break;case"-":if(p){p=false}else{bf("Unescaped '{a}'.",c,b+n,"-");p=true}break;case"]":if(!p&&!A.regexdash){bf("Unescaped '{a}'.",c,b+n-1,"-")}break klass;case"\\":h=d.charAt(n);if(h<" "){bf("Unexpected control character in regular expression.",c,b+n)}else if(h==="<"){bf("Unexpected escaped character '{a}' in regular expression.",c,b+n,h)}n+=1;p=true;break;case"/":bf("Unescaped '{a}'.",c,b+n-1,"/");p=true;break;case"<":p=true;break;default:p=true}}while(h);break;case".":if(A.regexp){bf("Insecure '{a}'.",c,b+n,h)}break;case"]":case"?":case"{":case"}":case"+":case"*":bf("Unescaped '{a}'.",c,b+n,h)}if(g){switch(d.charAt(n)){case"?":case"+":case"*":n+=1;if(d.charAt(n)==="?"){n+=1}break;case"{":n+=1;h=d.charAt(n);if(h<"0"||h>"9"){bf("Expected a number and instead saw '{a}'.",c,b+n,h)}n+=1;o=+h;for(;;){h=d.charAt(n);if(h<"0"||h>"9"){break}n+=1;o=+h+o*10}l=o;if(h===","){n+=1;l=Infinity;h=d.charAt(n);if(h>="0"&&h<="9"){n+=1;l=+h;for(;;){h=d.charAt(n);if(h<"0"||h>"9"){break}n+=1;l=+h+l*10}}}if(d.charAt(n)!=="}"){bf("Expected '{a}' and instead saw '{b}'.",c,b+n,"}",h)}else{n+=1}if(d.charAt(n)==="?"){n+=1}if(o>l){bf("'{a}' should not be greater than '{b}'.",c,b+n,o,l)}}}}h=d.substr(0,n-1);a+=n;d=d.substr(n);return f("(regexp)",h)}return f("(punctuator)",r);case"#":return f("(punctuator)",r);default:return f("(punctuator)",r)}}}}}}();bC("(number)",function(){return this});bC("(string)",function(){return this});M["(identifier)"]={type:"(identifier)",lbp:0,identifier:true,nud:function(){var b=this.value,c=G[b],d;if(typeof c==="function"){c=undefined}else if(typeof c==="boolean"){d=j;j=l[0];bj(b,"var");c=j;j=d}if(j===c){switch(j[b]){case"unused":j[b]="var";break;case"unction":j[b]="function";this["function"]=true;break;case"function":this["function"]=true;break;case"label":be("'{a}' is a statement label.",O,b);break}}else if(j["(global)"]){if(a!="typeof"&&a!="delete"&&A.undef&&typeof B[b]!=="boolean"){be("'{a}' is not defined.",O,b)}bU(O)}else{switch(j[b]){case"closure":case"function":case"var":case"unused":be("'{a}' used out of scope.",O,b);break;case"label":be("'{a}' is a statement label.",O,b);break;case"outer":case"global":break;default:if(c===true){j[b]=true}else if(c===null){be("'{a}' is not allowed.",O,b);bU(O)}else if(typeof c!=="object"){if(a!="typeof"&&a!="delete"&&A.undef){be("'{a}' is not defined.",O,b)}else{j[b]=true}bU(O)}else{switch(c[b]){case"function":case"unction":this["function"]=true;c[b]="closure";j[b]=c["(global)"]?"global":"outer";break;case"var":case"unused":c[b]="closure";j[b]=c["(global)"]?"global":"outer";break;case"closure":case"parameter":j[b]=c["(global)"]?"global":"outer";break;case"label":be("'{a}' is a statement label.",O,b)}}}}return this},led:function(){bg("Expected an operator and instead saw '{a}'.",x,x.value)}};bC("(regexp)",function(){return this});bx("(endline)");bx("(begin)");bx("(end)").reach=true;bx("</").reach=true;bx("<!");bx("<!--");bx("-->");bx("(error)").reach=true;bx("}").reach=true;bx(")");bx("]");bx('"').reach=true;bx("'").reach=true;bx(";");bx(":").reach=true;bx(",");bx("#");bx("@");bD("else");bD("case").reach=true;bD("catch");bD("default").reach=true;bD("finally");bE("arguments",function(a){if(L&&j["(global)"]){be("Strict violation.",a)}});bE("eval");bE("false");bE("Infinity");bE("NaN");bE("null");bE("this",function(a){if(L&&(j["(statement)"]&&j["(name)"].charAt(0)>"Z"||j["(global)"])){be("Strict violation.",a)}});bE("true");bE("undefined");bI("=","assign",20);bI("+=","assignadd",20);bI("-=","assignsub",20);bI("*=","assignmult",20);bI("/=","assigndiv",20).nud=function(){bg("A regular expression literal can be confused with '/='.")};bI("%=","assignmod",20);bK("&=","assignbitand",20);bK("|=","assignbitor",20);bK("^=","assignbitxor",20);bK("<<=","assignshiftleft",20);bK(">>=","assignshiftright",20);bK(">>>=","assignshiftrightunsigned",20);bF("?",function(a,b){b.left=a;b.right=bn(10);bm(":");b["else"]=bn(10);return b},30);bF("||","or",40);bF("&&","and",50);bJ("|","bitor",70);bJ("^","bitxor",80);bJ("&","bitand",90);bG("==",function(a,b){var c=A.eqnull&&(a.value=="null"||b.value=="null");if(!c&&A.eqeqeq){be("Expected '{a}' and instead saw '{b}'.",this,"===","==")}else if(bH(a)){be("Use '{a}' to compare with '{b}'.",this,"===",a.value)}else if(bH(b)){be("Use '{a}' to compare with '{b}'.",this,"===",b.value)}return this});bG("===");bG("!=",function(a,b){var c=A.eqnull&&(a.value=="null"||b.value=="null");if(!c&&A.eqeqeq){be("Expected '{a}' and instead saw '{b}'.",this,"!==","!=")}else if(bH(a)){be("Use '{a}' to compare with '{b}'.",this,"!==",a.value)}else if(bH(b)){be("Use '{a}' to compare with '{b}'.",this,"!==",b.value)}return this});bG("!==");bG("<");bG(">");bG("<=");bG(">=");bJ("<<","shiftleft",120);bJ(">>","shiftright",120);bJ(">>>","shiftrightunsigned",120);bF("in","in",120);bF("instanceof","instanceof",120);bF("+",function(a,b){var c=bn(130);if(a&&c&&a.id==="(string)"&&c.id==="(string)"){a.value+=c.value;a.character=c.character;if(!A.scripturl&&Z.test(a.value)){be("JavaScript URL.",a)}return a}b.left=a;b.right=c;return b},130);bB("+","num");bB("+++",function(){be("Confusing pluses.");this.right=bn(150);this.arity="unary";return this});bF("+++",function(a){be("Confusing pluses.");this.left=a;this.right=bn(130);return this},130);bF("-","sub",130);bB("-","neg");bB("---",function(){be("Confusing minuses.");this.right=bn(150);this.arity="unary";return this});bF("---",function(a){be("Confusing minuses.");this.left=a;this.right=bn(130);return this},130);bF("*","mult",140);bF("/","div",140);bF("%","mod",140);bL("++","postinc");bB("++","preinc");M["++"].exps=true;bL("--","postdec");bB("--","predec");M["--"].exps=true;bB("delete",function(){var a=bn(0);if(!a||a.id!=="."&&a.id!=="["){be("Variables should not be deleted.")}this.first=a;return this}).exps=true;bB("~",function(){if(A.bitwise){be("Unexpected '{a}'.",this,"~")}bn(150);return this});bB("!",function(){this.right=bn(150);this.arity="unary";if(b[this.right.id]===true){be("Confusing use of '{a}'.",this,"!")}return this});bB("typeof","typeof");bB("new",function(){var a=bn(155),b;if(a&&a.id!=="function"){if(a.identifier){a["new"]=true;switch(a.value){case"Object":be("Use the object literal notation {}.",O);break;case"Number":case"String":case"Boolean":case"Math":case"JSON":be("Do not use {a} as a constructor.",O,a.value);break;case"Function":if(!A.evil){be("The Function constructor is eval.")}break;case"Date":case"RegExp":break;default:if(a.id!=="function"){b=a.value.substr(0,1);if(A.newcap&&(b<"A"||b>"Z")){be("A constructor name should start with "+"an uppercase letter.",O)}}}}else{if(a.id!=="."&&a.id!=="["&&a.id!=="("){be("Bad constructor.",O)}}}else{if(!A.supernew)be("Weird construction. Delete 'new'.",this)}bo(O,x);if(x.id!=="("&&!A.supernew){be("Missing '()' invoking a constructor.")}this.first=a;return this});M["new"].exps=true;bB("void").exps=true;bF(".",function(a,b){bo(D,O);bp();var c=bN();if(typeof c==="string"){bT(c)}b.left=a;b.right=c;if(A.noarg&&a&&a.value==="arguments"&&(c==="callee"||c==="caller")){be("Avoid arguments.{a}.",a,c)}else if(!A.evil&&a&&a.value==="document"&&(c==="write"||c==="writeln")){be("document.write can be a form of eval.",a)}if(!A.evil&&(c==="eval"||c==="execScript")){be("eval is evil.")}return b},160,true);bF("(",function(a,b){if(D.id!=="}"&&D.id!==")"){bp(D,O)}bq();if(A.immed&&!a.immed&&a.id==="function"){be("Wrap an immediate function invocation in parentheses "+"to assist the reader in understanding that the expression "+"is the result of a function, and not the function itself.")}var c=0,d=[];if(a){if(a.type==="(identifier)"){if(a.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)){if(a.value!=="Number"&&a.value!=="String"&&a.value!=="Boolean"&&a.value!=="Date"){if(a.value==="Math"){be("Math is not a function.",a)}else if(A.newcap){be("Missing 'new' prefix when invoking a constructor.",a)}}}}}if(x.id!==")"){for(;;){d[d.length]=bn(10);c+=1;if(x.id!==","){break}bv()}}bm(")");bq(D,O);if(typeof a==="object"){if(a.value==="parseInt"&&c===1){be("Missing radix parameter.",a)}if(!A.evil){if(a.value==="eval"||a.value==="Function"||a.value==="execScript"){be("eval is evil.",a)}else if(d[0]&&d[0].id==="(string)"&&(a.value==="setTimeout"||a.value==="setInterval")){be("Implied eval is evil. Pass a function instead of a string.",a)}}if(!a.identifier&&a.id!=="."&&a.id!=="["&&a.id!=="("&&a.id!=="&&"&&a.id!=="||"&&a.id!=="?"){be("Bad invocation.",a)}}b.left=a;return b},155,true).exps=true;bB("(",function(){bq();if(x.id==="function"){x.immed=true}var a=bn(0);bm(")",this);bq(D,O);if(A.immed&&a.id==="function"){if(x.id==="("){be("Move the invocation into the parens that contain the function.",x)}else{be("Do not wrap function literals in parens unless they are to be immediately invoked.",this)}}return a});bF("[",function(a,b){bp(D,O);bq();var c=bn(0),d;if(c&&c.type==="(string)"){if(!A.evil&&(c.value==="eval"||c.value==="execScript")){be("eval is evil.",b)}bT(c.value);if(!A.sub&&Y.test(c.value)){d=M[c.value];if(!d||!d.reserved){be("['{a}'] is better written in dot notation.",c,c.value)}}}bm("]",b);bq(D,O);b.left=a;b.right=c;return b},160,true);bB("[",function(){var a=O.line!==x.line;this.first=[];if(a){p+=A.indent;if(x.from===p+A.indent){p+=A.indent}}while(x.id!=="(end)"){while(x.id===","){be("Extra comma.");bm(",")}if(x.id==="]"){break}if(a&&O.line!==x.line){bt()}this.first.push(bn(10));if(x.id===","){bv();if(x.id==="]"&&!A.es5){be("Extra comma.",O);break}}else{break}}if(a){p-=A.indent;bt()}bm("]",this);return this},160);(function(a){a.nud=function(){var a,b,c,d,e,f={},g;a=O.line!==x.line;if(a){p+=A.indent;if(x.from===p+A.indent){p+=A.indent}}for(;;){if(x.id==="}"){break}if(a){bt()}if(x.value==="get"&&bl().id!==":"){bm("get");if(!A.es5){bg("get/set are ES5 features.")}c=bV();if(!c){bg("Missing property name.")}g=x;bo(O,x);b=bX();if(!A.loopfunc&&j["(loopage)"]){be("Don't make functions within a loop.",g)}e=b["(params)"];if(e){be("Unexpected parameter '{a}' in get {b} function.",g,e[0],c)}bo(O,x);bm(",");bt();bm("set");d=bV();if(c!==d){bg("Expected {a} and instead saw {b}.",O,c,d)}g=x;bo(O,x);b=bX();e=b["(params)"];if(!e||e.length!==1||e[0]!=="value"){be("Expected (value) in set {a} function.",g,c)}}else{c=bV();if(typeof c!=="string"){break}bm(":");br(O,x);bn(10)}if(f[c]===true){be("Duplicate member '{a}'.",x,c)}f[c]=true;bT(c);if(x.id===","){bv();if(x.id===","){be("Extra comma.",O)}else if(x.id==="}"&&!A.es5){be("Extra comma.",O)}}else{break}}if(a){p-=A.indent;bt()}bm("}",this);return this};a.fud=function(){bg("Expected to see a statement and instead saw a block.",O)}})(bx("{"));var bY=by("var",function(a){var b,c,d;if(j["(onevar)"]&&A.onevar){be("Too many var statements.")}else if(!j["(global)"]){j["(onevar)"]=true}this.first=[];for(;;){br(O,x);b=bN();if(j["(global)"]&&B[b]===false){be("Redefinition of '{a}'.",O,b)}bj(b,"unused");if(a){break}c=O;this.first.push(O);if(x.id==="="){br(O,x);bm("=");br(O,x);if(x.id==="undefined"){be("It is not necessary to initialize '{a}' to 'undefined'.",O,b)}if(bl(0).id==="="&&x.identifier){bg("Variable {a} was not declared correctly.",x,x.value)}d=bn(0);c.first=d}if(x.id!==","){break}bv()}return this});bY.exps=true;bz("function",function(){if(o){be("Function declarations should not be placed in blocks. "+"Use a function expression or move the statement to the top of "+"the outer function.",O)}var a=bN();bo(O,x);bj(a,"unction");bX(a,true);if(x.id==="("&&x.line===O.line){bg("Function declarations are not invocable. Wrap the whole function invocation in parens.")}return this});bB("function",function(){var a=bM();if(a){bo(O,x)}else{br(O,x)}bX(a);if(!A.loopfunc&&j["(loopage)"]){be("Don't make functions within a loop.")}return this});bz("if",function(){var a=x;bm("(");br(this,a);bq();bn(20);if(x.id==="="){if(!A.boss)be("Expected a conditional expression and instead saw an assignment.");bm("=");bn(20)}bm(")",a);bq(D,O);bS(true,true);if(x.id==="else"){br(O,x);bm("else");if(x.id==="if"||x.id==="switch"){bP(true)}else{bS(true,true)}}return this});bz("try",function(){var a,b,c;bS(false);if(x.id==="catch"){bm("catch");br(O,x);bm("(");c=G;G=Object.create(c);b=x.value;if(x.type!=="(identifier)"){be("Expected an identifier and instead saw '{a}'.",x,b)}else{bj(b,"exception")}bm();bm(")");bS(false);a=true;G=c}if(x.id==="finally"){bm("finally");bS(false);return}else if(!a){bg("Expected '{a}' and instead saw '{b}'.",x,"catch",x.value)}return this});bz("while",function(){var a=x;j["(breakage)"]+=1;j["(loopage)"]+=1;bm("(");br(this,a);bq();bn(20);if(x.id==="="){if(!A.boss)be("Expected a conditional expression and instead saw an assignment.");bm("=");bn(20)}bm(")",a);bq(D,O);bS(true,true);j["(breakage)"]-=1;j["(loopage)"]-=1;return this}).labelled=true;bD("with");bz("switch",function(){var a=x,b=false;j["(breakage)"]+=1;bm("(");br(this,a);bq();this.condition=bn(20);bm(")",a);bq(D,O);br(O,x);a=x;bm("{");br(O,x);p+=A.indent;this.cases=[];for(;;){switch(x.id){case"case":switch(j["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:if(!$.test(s[x.line-2])){be("Expected a 'break' statement before 'case'.",O)}}bt(-A.indent);bm("case");this.cases.push(bn(20));b=true;bm(":");j["(verb)"]="case";break;case"default":switch(j["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:if(!$.test(s[x.line-2])){be("Expected a 'break' statement before 'default'.",O)}}bt(-A.indent);bm("default");b=true;bm(":");break;case"}":p-=A.indent;bt();bm("}",a);if(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false"){be("This 'switch' should be an 'if'.",this)}j["(breakage)"]-=1;j["(verb)"]=undefined;return;case"(end)":bg("Missing '{a}'.",x,"}");return;default:if(b){switch(O.id){case",":bg("Each value should have its own case label.");return;case":":bR();break;default:bg("Missing ':' on a case clause.",O)}}else{bg("Expected '{a}' and instead saw '{b}'.",x,"case",x.value)}}}}).labelled=true;by("debugger",function(){if(!A.debug){be("All 'debugger' statements should be removed.")}return this}).exps=true;(function(){var a=by("do",function(){j["(breakage)"]+=1;j["(loopage)"]+=1;this.first=bS(true);bm("while");var a=x;br(O,a);bm("(");bq();bn(20);if(x.id==="="){if(!A.boss)be("Expected a conditional expression and instead saw an assignment.");bm("=");bn(20)}bm(")",a);bq(D,O);j["(breakage)"]-=1;j["(loopage)"]-=1;return this});a.labelled=true;a.exps=true})();bz("for",function(){var a,b=x;j["(breakage)"]+=1;j["(loopage)"]+=1;bm("(");br(this,b);bq();if(bl(x.id==="var"?1:0).id==="in"){if(x.id==="var"){bm("var");bY.fud.call(bY,true)}else{switch(j[x.value]){case"unused":j[x.value]="var";break;case"var":break;default:be("Bad for in variable '{a}'.",x,x.value)}bm()}bm("in");bn(20);bm(")",b);a=bS(true,true);if(A.forin&&(a.length>1||typeof a[0]!=="object"||a[0].value!=="if")){be("The body of a for in should be wrapped in an if statement to filter "+"unwanted properties from the prototype.",this)}j["(breakage)"]-=1;j["(loopage)"]-=1;return this}else{if(x.id!==";"){if(x.id==="var"){bm("var");bY.fud.call(bY)}else{for(;;){bn(0,"for");if(x.id!==","){break}bv()}}}bu(O);bm(";");if(x.id!==";"){bn(20);if(x.id==="="){if(!A.boss)be("Expected a conditional expression and instead saw an assignment.");bm("=");bn(20)}}bu(O);bm(";");if(x.id===";"){bg("Expected '{a}' and instead saw '{b}'.",x,")",";")}if(x.id!==")"){for(;;){bn(0,"for");if(x.id!==","){break}bv()}}bm(")",b);bq(D,O);bS(true,true);j["(breakage)"]-=1;j["(loopage)"]-=1;return this}}).labelled=true;by("break",function(){var a=x.value;if(j["(breakage)"]===0){be("Unexpected '{a}'.",x,this.value)}bu(this);if(x.id!==";"){if(O.line===x.line){if(j[a]!=="label"){be("'{a}' is not a statement label.",x,a)}else if(G[a]!==j){be("'{a}' is out of scope.",x,a)}this.first=x;bm()}}bO("break");return this}).exps=true;by("continue",function(){var a=x.value;if(j["(breakage)"]===0){be("Unexpected '{a}'.",x,this.value)}bu(this);if(x.id!==";"){if(O.line===x.line){if(j[a]!=="label"){be("'{a}' is not a statement label.",x,a)}else if(G[a]!==j){be("'{a}' is out of scope.",x,a)}this.first=x;bm()}}else if(!j["(loopage)"]){be("Unexpected '{a}'.",x,this.value)}bO("continue");return this}).exps=true;by("return",function(){bu(this);if(x.id==="(regexp)"){be("Wrap the /regexp/ literal in parens to disambiguate the slash operator.")}if(x.id!==";"&&!x.reach){br(O,x);this.first=bn(20)}bO("return");return this}).exps=true;by("throw",function(){bu(this);br(O,x);this.first=bn(20);bO("throw");return this}).exps=true;bD("class");bD("const");bD("enum");bD("export");bD("extends");bD("import");bD("super");bD("let");bD("yield");bD("implements");bD("interface");bD("package");bD("private");bD("protected");bD("public");bD("static");var b$=function(a,b,c){var e,f,g;d.errors=[];B=Object.create(J);bb(B,c||{});if(b){e=b.predef;if(e){if(Array.isArray(e)){for(f=0;f<e.length;f+=1){B[e[f]]=true}}else if(typeof e==="object"){g=Object.keys(e);for(f=0;f<g.length;f+=1){B[g[f]]=!!e[g[f]]}}}A=b}else{A={}}A.indent=A.indent||4;A.maxerr=A.maxerr||50;N="";for(f=0;f<A.indent;f+=1){N+=" "}p=1;m=Object.create(B);G=m;j={"(global)":true,"(name)":"(global)","(scope)":G,"(breakage)":0,"(loopage)":0};l=[j];P=[];H=false;I=null;u={};v=null;n={};o=false;t=[];q=false;Q=0;bi.init(a);C=true;L=false;D=O=x=M["(begin)"];bc();try{bm();switch(x.id){case"{":case"[":A.laxbreak=true;q=true;bZ();break;default:if(x.value==="use strict"){if(!A.globalstrict)be('Use the function form of "use strict".');bQ()}bR("lib")}bm("(end)")}catch(h){if(h){d.errors.push({reason:h.message,line:h.line||x.line,character:h.character||x.from},null)}}return d.errors.length===0};b$.data=function(){var a={functions:[]},b,c,d=[],e,f,g,h=[],i,j=[],m;if(b$.errors.length){a.errors=b$.errors}if(q){a.json=true}for(i in n){if(ba(n,i)){d.push({name:i,line:n[i]})}}if(d.length>0){a.implieds=d}if(P.length>0){a.urls=P}c=Object.keys(G);if(c.length>0){a.globals=c}for(f=1;f<l.length;f+=1){e=l[f];b={};for(g=0;g<k.length;g+=1){b[k[g]]=[]}for(i in e){if(ba(e,i)&&i.charAt(0)!=="("){m=e[i];if(m==="unction"){m="unused"}if(Array.isArray(b[m])){b[m].push(i);if(m==="unused"){j.push({name:i,line:e["(line)"],"function":e["(name)"]})}}}}for(g=0;g<k.length;g+=1){if(b[k[g]].length===0){delete b[k[g]]}}b.name=e["(name)"];b.param=e["(params)"];b.line=e["(line)"];b.last=e["(last)"];a.functions.push(b)}if(j.length>0){a.unused=j}h=[];for(i in u){if(typeof u[i]==="number"){a.member=u;break}}return a};b$.report=function(a){function o(a,b){var c,d,e;if(b){m.push("<div><i>"+a+"</i> ");b=b.sort();for(d=0;d<b.length;d+=1){if(b[d]!==e){e=b[d];m.push((c?", ":"")+e);c=true}}m.push("</div>")}}var b=b$.data();var c=[],d,e,f,g,h,i,j,k="",l,m=[],n;if(b.errors||b.implieds||b.unused){f=true;m.push("<div id=errors><i>Error:</i>");if(b.errors){for(h=0;h<b.errors.length;h+=1){d=b.errors[h];if(d){e=d.evidence||"";m.push("<p>Problem"+(isFinite(d.line)?" at line "+d.line+" character "+d.character:"")+": "+d.reason.entityify()+"</p><p class=evidence>"+(e&&(e.length>80?e.slice(0,77)+"...":e).entityify())+"</p>")}}}if(b.implieds){n=[];for(h=0;h<b.implieds.length;h+=1){n[h]="<code>"+b.implieds[h].name+"</code> <i>"+b.implieds[h].line+"</i>"}m.push("<p><i>Implied global:</i> "+n.join(", ")+"</p>")}if(b.unused){n=[];for(h=0;h<b.unused.length;h+=1){n[h]="<code><u>"+b.unused[h].name+"</u></code> <i>"+b.unused[h].line+"</i> <code>"+b.unused[h]["function"]+"</code>"}m.push("<p><i>Unused variable:</i> "+n.join(", ")+"</p>")}if(b.json){m.push("<p>JSON: bad.</p>")}m.push("</div>")}if(!a){m.push("<br><div id=functions>");if(b.urls){o("URLs<br>",b.urls,"<br>")}if(b.json&&!f){m.push("<p>JSON: good.</p>")}else if(b.globals){m.push("<div><i>Global</i> "+b.globals.sort().join(", ")+"</div>")}else{m.push("<div><i>No new global variables introduced.</i></div>")}for(h=0;h<b.functions.length;h+=1){g=b.functions[h];m.push("<br><div class=function><i>"+g.line+"-"+g.last+"</i> "+(g.name||"")+"("+(g.param?g.param.join(", "):"")+")</div>");o("<big><b>Unused</b></big>",g.unused);o("Closure",g.closure);o("Variable",g["var"]);o("Exception",g.exception);o("Outer",g.outer);o("Global",g.global);o("Label",g.label)}if(b.member){c=Object.keys(b.member);if(c.length){c=c.sort();k="<br><pre id=members>/*members ";j=10;for(h=0;h<c.length;h+=1){i=c[h];l=i.name();if(j+l.length>72){m.push(k+"<br>");k="    ";j=1}j+=l.length+2;if(b.member[i]===1){l="<i>"+l+"</i>"}if(h<c.length-1){l+=", "}k+=l}m.push(k+"<br>*/</pre>")}m.push("</div>")}}return m.join("")};b$.jshint=b$;b$.edition="2011-04-16";return b$}();if(typeof b=="object"&&b)b.JSHINT=d});define("ace/narcissus/jsparse",["require","exports","module","ace/narcissus/jslex","ace/narcissus/jsdefs"],function(require,exports,module){function parseMultiline(a,b){var c="";for(;;){if(b)putstr(b);var d=readline();if(d===null)return null;if(d.match(/^[\s]*\.end[\s]*$/))break;c+="\n"+d}var e=new lexer.Tokenizer(c,"stdin",a.value);var f=Script(e,false,false);a.value=e.lineno;return f}function parseStdin(a,b,c,d){if(a.match(/^[\s]*\.begin[\s]*$/)){++b.value;return parseMultiline(b,c)}if(d(a.trim()))a="";for(;;){try{var e=new lexer.Tokenizer(a,"stdin",b.value);var f=Script(e,false,false);b.value=e.lineno;return f}catch(g){if(!e.unexpectedEOF)throw g;var h;do{if(c)putstr(c);h=readline();if(!h)throw g}while(d(h.trim()));a+="\n"+h}}}function parse(a,b,c){var d=new lexer.Tokenizer(a,b,c);var e=Script(d,false,false);if(!d.done)throw d.newSyntaxError("Syntax error");return e}function PrimaryExpression(a,b){var c,d,e=a.get(true);switch(e){case FUNCTION:c=FunctionDefinition(a,b,false,EXPRESSED_FORM);break;case LEFT_BRACKET:c=new Node(a,{type:ARRAY_INIT});while((e=a.peek(true))!==RIGHT_BRACKET){if(e===COMMA){a.get();c.push(null);continue}c.push(AssignExpression(a,b));if(e!==COMMA&&!a.match(COMMA))break}if(c.children.length===1&&a.match(FOR)){d=new Node(a,{type:ARRAY_COMP,expression:c.children[0],tail:ComprehensionTail(a,b)});c=d}a.mustMatch(RIGHT_BRACKET);break;case LEFT_CURLY:var f,g;c=new Node(a,{type:OBJECT_INIT});object_init:if(!a.match(RIGHT_CURLY)){do{e=a.get();if((a.token.value==="get"||a.token.value==="set")&&a.peek()===IDENTIFIER){if(b.ecma3OnlyMode)throw a.newSyntaxError("Illegal property accessor");c.push(FunctionDefinition(a,b,true,EXPRESSED_FORM))}else{var h=a.blockComments;switch(e){case IDENTIFIER:case NUMBER:case STRING:f=new Node(a,{type:IDENTIFIER});break;case RIGHT_CURLY:if(b.ecma3OnlyMode)throw a.newSyntaxError("Illegal trailing ,");break object_init;default:if(a.token.value in definitions.keywords){f=new Node(a,{type:IDENTIFIER});break}throw a.newSyntaxError("Invalid property name")}if(a.match(COLON)){d=new Node(a,{type:PROPERTY_INIT});d.push(f);d.push(AssignExpression(a,b));d.blockComments=h;c.push(d)}else{if(a.peek()!==COMMA&&a.peek()!==RIGHT_CURLY)throw a.newSyntaxError("missing : after property");c.push(f)}}}while(a.match(COMMA));a.mustMatch(RIGHT_CURLY)}break;case LEFT_PAREN:c=ParenExpression(a,b);a.mustMatch(RIGHT_PAREN);c.parenthesized=true;break;case LET:c=LetBlock(a,b,false);break;case NULL:case THIS:case TRUE:case FALSE:case IDENTIFIER:case NUMBER:case STRING:case REGEXP:c=new Node(a);break;default:throw a.newSyntaxError("missing operand");break}return c}function ArgumentList(a,b){var c,d;c=new Node(a,{type:LIST});if(a.match(RIGHT_PAREN,true))return c;do{d=AssignExpression(a,b);if(d.type===YIELD&&!d.parenthesized&&a.peek()===COMMA)throw a.newSyntaxError("Yield expression must be parenthesized");if(a.match(FOR)){d=GeneratorExpression(a,b,d);if(c.children.length>1||a.peek(true)===COMMA)throw a.newSyntaxError("Generator expression must be parenthesized")}c.push(d)}while(a.match(COMMA));a.mustMatch(RIGHT_PAREN);return c}function MemberExpression(a,b,c){var d,e,f,g;if(a.match(NEW)){d=new Node(a);d.push(MemberExpression(a,b,false));if(a.match(LEFT_PAREN)){d.type=NEW_WITH_ARGS;d.push(ArgumentList(a,b))}}else{d=PrimaryExpression(a,b)}while((g=a.get())!==END){switch(g){case DOT:e=new Node(a);e.push(d);e.push(IdentifierName(a));break;case LEFT_BRACKET:e=new Node(a,{type:INDEX});e.push(d);e.push(Expression(a,b));a.mustMatch(RIGHT_BRACKET);break;case LEFT_PAREN:if(c){e=new Node(a,{type:CALL});e.push(d);e.push(ArgumentList(a,b));break};default:a.unget();return d}d=e}return d}function UnaryExpression(a,b){var c,d,e;switch(e=a.get(true)){case DELETE:case VOID:case TYPEOF:case NOT:case BITWISE_NOT:case PLUS:case MINUS:if(e===PLUS)c=new Node(a,{type:UNARY_PLUS});else if(e===MINUS)c=new Node(a,{type:UNARY_MINUS});else c=new Node(a);c.push(UnaryExpression(a,b));break;case INCREMENT:case DECREMENT:c=new Node(a);c.push(MemberExpression(a,b,true));break;default:a.unget();c=MemberExpression(a,b,true);if(a.tokens[a.tokenIndex+a.lookahead-1&3].lineno===a.lineno){if(a.match(INCREMENT)||a.match(DECREMENT)){d=new Node(a,{postfix:true});d.push(c);c=d}}break}return c}function MultiplyExpression(a,b){var c,d;c=UnaryExpression(a,b);while(a.match(MUL)||a.match(DIV)||a.match(MOD)){d=new Node(a);d.push(c);d.push(UnaryExpression(a,b));c=d}return c}function AddExpression(a,b){var c,d;c=MultiplyExpression(a,b);while(a.match(PLUS)||a.match(MINUS)){d=new Node(a);d.push(c);d.push(MultiplyExpression(a,b));c=d}return c}function ShiftExpression(a,b){var c,d;c=AddExpression(a,b);while(a.match(LSH)||a.match(RSH)||a.match(URSH)){d=new Node(a);d.push(c);d.push(AddExpression(a,b));c=d}return c}function RelationalExpression(a,b){var c,d;var e=b.update({inForLoopInit:false});c=ShiftExpression(a,e);while(a.match(LT)||a.match(LE)||a.match(GE)||a.match(GT)||!b.inForLoopInit&&a.match(IN)||a.match(INSTANCEOF)){d=new Node(a);d.push(c);d.push(ShiftExpression(a,e));c=d}return c}function EqualityExpression(a,b){var c,d;c=RelationalExpression(a,b);while(a.match(EQ)||a.match(NE)||a.match(STRICT_EQ)||a.match(STRICT_NE)){d=new Node(a);d.push(c);d.push(RelationalExpression(a,b));c=d}return c}function BitwiseAndExpression(a,b){var c,d;c=EqualityExpression(a,b);while(a.match(BITWISE_AND)){d=new Node(a);d.push(c);d.push(EqualityExpression(a,b));c=d}return c}function BitwiseXorExpression(a,b){var c,d;c=BitwiseAndExpression(a,b);while(a.match(BITWISE_XOR)){d=new Node(a);d.push(c);d.push(BitwiseAndExpression(a,b));c=d}return c}function BitwiseOrExpression(a,b){var c,d;c=BitwiseXorExpression(a,b);while(a.match(BITWISE_OR)){d=new Node(a);d.push(c);d.push(BitwiseXorExpression(a,b));c=d}return c}function AndExpression(a,b){var c,d;c=BitwiseOrExpression(a,b);while(a.match(AND)){d=new Node(a);d.push(c);d.push(BitwiseOrExpression(a,b));c=d}return c}function OrExpression(a,b){var c,d;c=AndExpression(a,b);while(a.match(OR)){d=new Node(a);d.push(c);d.push(AndExpression(a,b));c=d}return c}function ConditionalExpression(a,b){var c,d;c=OrExpression(a,b);if(a.match(HOOK)){d=c;c=new Node(a,{type:HOOK});c.push(d);c.push(AssignExpression(a,b.update({inForLoopInit:false})));if(!a.match(COLON))throw a.newSyntaxError("missing : after ?");c.push(AssignExpression(a,b))}return c}function AssignExpression(a,b){var c,d;if(a.match(YIELD,true))return ReturnOrYield(a,b);c=new Node(a,{type:ASSIGN});d=ConditionalExpression(a,b);if(!a.match(ASSIGN)){return d}c.blockComment=a.lastBlockComment();switch(d.type){case OBJECT_INIT:case ARRAY_INIT:d.destructuredNames=checkDestructuring(a,b,d);case IDENTIFIER:case DOT:case INDEX:case CALL:break;default:throw a.newSyntaxError("Bad left-hand side of assignment");break}c.assignOp=d.assignOp=a.token.assignOp;c.push(d);c.push(AssignExpression(a,b));return c}function Expression(a,b){var c,d;c=AssignExpression(a,b);if(a.match(COMMA)){d=new Node(a,{type:COMMA});d.push(c);c=d;do{d=c.children[c.children.length-1];if(d.type===YIELD&&!d.parenthesized)throw a.newSyntaxError("Yield expression must be parenthesized");c.push(AssignExpression(a,b))}while(a.match(COMMA))}return c}function ParenExpression(a,b){var c=Expression(a,b.update({inForLoopInit:b.inForLoopInit&&a.token.type===LEFT_PAREN}));if(a.match(FOR)){if(c.type===YIELD&&!c.parenthesized)throw a.newSyntaxError("Yield expression must be parenthesized");if(c.type===COMMA&&!c.parenthesized)throw a.newSyntaxError("Generator expression must be parenthesized");c=GeneratorExpression(a,b,c)}return c}function HeadExpression(a,b){var c=MaybeLeftParen(a,b);var d=ParenExpression(a,b);MaybeRightParen(a,c);if(c===END&&!d.parenthesized){var e=a.peek();if(e!==LEFT_CURLY&&!definitions.isStatementStartCode[e])throw a.newSyntaxError("Unparenthesized head followed by unbraced body")}return d}function ComprehensionTail(a,b){var c,d,e,f,g;c=new Node(a,{type:COMP_TAIL});do{d=new Node(a,{type:FOR_IN,isLoop:true});if(a.match(IDENTIFIER)){if(a.token.value==="each")d.isEach=true;else a.unget()}g=MaybeLeftParen(a,b);switch(a.get()){case LEFT_BRACKET:case LEFT_CURLY:a.unget();d.iterator=DestructuringExpression(a,b);break;case IDENTIFIER:d.iterator=f=new Node(a,{type:IDENTIFIER});f.name=f.value;d.varDecl=e=new Node(a,{type:VAR});e.push(f);b.parentScript.varDecls.push(f);break;default:throw a.newSyntaxError("missing identifier")}a.mustMatch(IN);d.object=Expression(a,b);MaybeRightParen(a,g);c.push(d)}while(a.match(FOR));if(a.match(IF))c.guard=HeadExpression(a,b);return c}function GeneratorExpression(a,b,c){return new Node(a,{type:GENERATOR,expression:c,tail:ComprehensionTail(a,b)})}function DestructuringExpression(a,b,c){var d=PrimaryExpression(a,b);d.destructuredNames=checkDestructuring(a,b,d,c);return d}function checkDestructuring(a,b,c,d){if(c.type===ARRAY_COMP)throw a.newSyntaxError("Invalid array comprehension left-hand side");if(c.type!==ARRAY_INIT&&c.type!==OBJECT_INIT)return;var e={};var f,g,h,i,j,k=c.children;for(var l=0,m=k.length;l<m;l++){if(!(f=k[l]))continue;if(f.type===PROPERTY_INIT){j=f.children;i=j[1];h=j[0].value}else if(c.type===OBJECT_INIT){i=f;h=f.value}else{i=f;h=l}if(i.type===ARRAY_INIT||i.type===OBJECT_INIT){e[h]=checkDestructuring(a,b,i,d)}else{if(d&&i.type!==IDENTIFIER){throw a.newSyntaxError("missing name in pattern")}e[h]=i}}return e}function LetBlock(a,b,c){var d,e;d=new Node(a,{type:LET_BLOCK,varDecls:[]});a.mustMatch(LEFT_PAREN);d.variables=Variables(a,b,d);a.mustMatch(RIGHT_PAREN);if(c&&a.peek()!==LEFT_CURLY){e=new Node(a,{type:SEMICOLON,expression:d});c=false}if(c)d.block=Block(a,b);else d.expression=AssignExpression(a,b);return d}function Variables(a,b,c){var d,e,f,g,h,i;i=a.token.type;switch(i){case VAR:case CONST:h=b.parentScript;break;case LET:h=b.parentBlock;break;case LEFT_PAREN:i=LET;h=c;break}d=new Node(a,{type:i,destructurings:[]});do{i=a.get();if(i===LEFT_BRACKET||i===LEFT_CURLY){a.unget();var j=DestructuringExpression(a,b,true);e=new Node(a,{type:IDENTIFIER,name:j,readOnly:d.type===CONST});d.push(e);pushDestructuringVarDecls(e.name.destructuredNames,h);d.destructurings.push({exp:j,decl:e});if(b.inForLoopInit&&a.peek()===IN){continue}a.mustMatch(ASSIGN);if(a.token.assignOp)throw a.newSyntaxError("Invalid variable initialization");e.blockComment=a.lastBlockComment();e.initializer=AssignExpression(a,b);continue}if(i!==IDENTIFIER)throw a.newSyntaxError("missing variable name");e=new Node(a,{type:IDENTIFIER,name:a.token.value,readOnly:d.type===CONST});d.push(e);h.varDecls.push(e);if(a.match(ASSIGN)){var k=a.lastBlockComment();if(a.token.assignOp)throw a.newSyntaxError("Invalid variable initialization");e.initializer=AssignExpression(a,b)}else{var k=a.lastBlockComment()}e.blockComment=k}while(a.match(COMMA));return d}function ModuleVariables(a,b,c){var d,e;do{d=Identifier(a,b);if(a.match(ASSIGN)){e=ModuleExpression(a,b);d.initializer=e;if(e.type===STRING)b.parentScript.modLoads.set(d.value,e.value);else b.parentScript.modAssns.set(d.value,d)}c.push(d)}while(a.match(COMMA))}function FunctionDefinition(a,b,c,d,e){var f;var g=new Node(a,{params:[],paramComments:[]});if(typeof comment==="undefined")comment=null;g.blockComments=e;if(g.type!==FUNCTION)g.type=g.value==="get"?GETTER:SETTER;if(a.match(IDENTIFIER))g.name=a.token.value;else if(c)throw a.newSyntaxError("missing function identifier");var h=b?b.inModule:false;var i=new StaticContext(null,null,h,true);a.mustMatch(LEFT_PAREN);if(!a.match(RIGHT_PAREN)){do{f=a.get();g.paramComments.push(a.lastBlockComment());switch(f){case LEFT_BRACKET:case LEFT_CURLY:a.unget();g.params.push(DestructuringExpression(a,i));break;case IDENTIFIER:g.params.push(a.token.value);break;default:throw a.newSyntaxError("missing formal parameter");break}}while(a.match(COMMA));a.mustMatch(RIGHT_PAREN)}f=a.get();if(f!==LEFT_CURLY)a.unget();if(f!==LEFT_CURLY){g.body=AssignExpression(a,i);if(g.body.isGenerator)throw a.newSyntaxError("Generator returns a value")}else{g.body=Script(a,h,true)}if(f===LEFT_CURLY)a.mustMatch(RIGHT_CURLY);g.end=a.token.end;g.functionForm=d;if(d===DECLARED_FORM)b.parentScript.funDecls.push(g);return g}function ExportPathList(a,b){var c=[];do{c.push(ExportPath(a,b))}while(a.match(COMMA));return c}function ExportPath(a,b){if(a.peek()===LEFT_CURLY)return ExplicitSpecifierSet(a,b,QualifiedPath);return QualifiedPath(a,b)}function QualifiedPath(a,b){var c,d;c=Identifier(a,b);while(a.match(DOT)){if(a.peek()!==IDENTIFIER){a.unget();break}d=new Node(a);d.push(c);d.push(Identifier(a,b));c=d}return c}function IdentifierName(a){if(a.match(IDENTIFIER))return new Node(a,{type:IDENTIFIER});a.get();if(a.token.value in definitions.keywords)return new Node(a,{type:IDENTIFIER});throw a.newSyntaxError("missing IdentifierName")}function Identifier(a,b){a.mustMatch(IDENTIFIER);return new Node(a,{type:IDENTIFIER})}function ImportSpecifierSet(a,b){return a.match(MUL)?new Node(a,{type:IDENTIFIER,name:"*"}):ExplicitSpecifierSet(a,b,Identifier)}function ExplicitSpecifierSet(a,b,c){var d,e,f,g;d=new Node(a,{type:OBJECT_INIT});a.mustMatch(LEFT_CURLY);if(!a.match(RIGHT_CURLY)){do{f=Identifier(a,b);if(a.match(COLON)){e=new Node(a,{type:PROPERTY_INIT});e.push(f);e.push(c(a,b));d.push(e)}else{d.push(f)}}while(!a.match(RIGHT_CURLY)&&a.mustMatch(COMMA))}return d}function ImportPath(a,b){var c=QualifiedPath(a,b);if(!a.match(DOT)){if(c.type===IDENTIFIER)throw a.newSyntaxError("cannot import local variable");return c}var d=new Node(a);d.push(c);d.push(ImportSpecifierSet(a,b));return d}function ImportPathList(a,b){var c=[];do{c.push(ImportPath(a,b))}while(a.match(COMMA));return c}function ModuleExpression(a,b){return a.match(STRING)?new Node(a):QualifiedPath(a,b)}function ReturnOrYield(a,b){var c,d,e=a.token.type,f;var g=b.parentScript;if(e===RETURN){if(!b.inFunction)throw a.newSyntaxError("Return not in function")}else{if(!b.inFunction)throw a.newSyntaxError("Yield not in function");g.isGenerator=true}c=new Node(a,{value:undefined});f=e===RETURN?a.peekOnSameLine(true):a.peek(true);if(f!==END&&f!==NEWLINE&&f!==SEMICOLON&&f!==RIGHT_CURLY&&(e!==YIELD||f!==e&&f!==RIGHT_BRACKET&&f!==RIGHT_PAREN&&f!==COLON&&f!==COMMA)){if(e===RETURN){c.value=Expression(a,b);g.hasReturnWithValue=true}else{c.value=AssignExpression(a,b)}}else if(e===RETURN){g.hasEmptyReturn=true}if(g.hasReturnWithValue&&g.isGenerator)throw a.newSyntaxError("Generator returns a value");return c}function MagicalSemicolon(a){var b;if(a.lineno===a.token.lineno){b=a.peekOnSameLine();if(b!==END&&b!==NEWLINE&&b!==SEMICOLON&&b!==RIGHT_CURLY)throw a.newSyntaxError("missing ; before statement")}a.match(SEMICOLON)}function Statement(a,b){var c,d,e,f,g,h,i,j=a.get(true),k,l,m;var n=a.blockComments;if(b.blackList[j])throw a.newSyntaxError(definitions.tokens[j]+" statements only allowed in Harmony");if(!b.allow(j))throw a.newSyntaxError(definitions.tokens[j]+" statement in illegal context");switch(j){case IMPORT:e=new Node(a);e.pathList=ImportPathList(a,b);b.parentScript.impDecls.push(e);break;case EXPORT:switch(a.peek()){case MODULE:case FUNCTION:case LET:case VAR:case CONST:e=Statement(a,b);e.blockComments=n;e.exported=true;b.parentScript.expDecls.push(e);registerExport(b.parentScript.exports,e);return e;default:e=new Node(a);e.pathList=ExportPathList(a,b);break}b.parentScript.expDecls.push(e);registerExport(b.parentScript.exports,e);break;case MODULE:e=new Node(a);e.blockComments=n;a.mustMatch(IDENTIFIER);d=a.token.value;if(a.match(LEFT_CURLY)){e.name=d;e.body=Script(a,true,false);e.module=new Module(e);a.mustMatch(RIGHT_CURLY);b.parentScript.modDefns.set(e.name,e);return e}a.unget();ModuleVariables(a,b,e);return e;case FUNCTION:return FunctionDefinition(a,b,true,b.topLevel?DECLARED_FORM:STATEMENT_FORM,n);case LEFT_CURLY:e=new Node(a,blockInit());Statements(a,b.update({parentBlock:e}).pushTarget(e).nest(),e);a.mustMatch(RIGHT_CURLY);return e;case IF:e=new Node(a);e.condition=HeadExpression(a,b);l=b.pushTarget(e).nest();e.thenPart=Statement(a,l);e.elsePart=a.match(ELSE,true)?Statement(a,l):null;return e;case SWITCH:e=new Node(a,{cases:[],defaultIndex:-1});e.discriminant=HeadExpression(a,b);l=b.pushTarget(e).nest();a.mustMatch(LEFT_CURLY);while((j=a.get())!==RIGHT_CURLY){switch(j){case DEFAULT:if(e.defaultIndex>=0)throw a.newSyntaxError("More than one switch default");case CASE:f=new Node(a);if(j===DEFAULT)e.defaultIndex=e.cases.length;else f.caseLabel=Expression(a,l,COLON);break;default:throw a.newSyntaxError("Invalid switch case")}a.mustMatch(COLON);f.statements=new Node(a,blockInit());while((j=a.peek(true))!==CASE&&j!==DEFAULT&&j!==RIGHT_CURLY)f.statements.push(Statement(a,l));e.cases.push(f)}return e;case FOR:e=new Node(a,LOOP_INIT);e.blockComments=n;if(a.match(IDENTIFIER)){if(a.token.value==="each")e.isEach=true;else a.unget()}if(!b.parenFreeMode)a.mustMatch(LEFT_PAREN);l=b.pushTarget(e).nest();m=b.update({inForLoopInit:true});f=null;if((j=a.peek(true))!==SEMICOLON){if(j===VAR||j===CONST){a.get();f=Variables(a,m)}else if(j===LET){a.get();if(a.peek()===LEFT_PAREN){f=LetBlock(a,m,false)}else{m.parentBlock=e;e.varDecls=[];f=Variables(a,m)}}else{f=Expression(a,m)}}if(f&&a.match(IN)){e.type=FOR_IN;e.object=Expression(a,m);if(f.type===VAR||f.type===LET){h=f.children;if(h.length!==1&&f.destructurings.length!==1){throw new SyntaxError("Invalid for..in left-hand side",a.filename,f.lineno)}if(f.destructurings.length>0){e.iterator=f.destructurings[0]}else{e.iterator=h[0]}e.varDecl=f}else{if(f.type===ARRAY_INIT||f.type===OBJECT_INIT){f.destructuredNames=checkDestructuring(a,m,f)}e.iterator=f}}else{m.inForLoopInit=false;e.setup=f;a.mustMatch(SEMICOLON);if(e.isEach)throw a.newSyntaxError("Invalid for each..in loop");e.condition=a.peek(true)===SEMICOLON?null:Expression(a,m);a.mustMatch(SEMICOLON);k=a.peek(true);e.update=(b.parenFreeMode?k===LEFT_CURLY||definitions.isStatementStartCode[k]:k===RIGHT_PAREN)?null:Expression(a,m)}if(!b.parenFreeMode)a.mustMatch(RIGHT_PAREN);e.body=Statement(a,l);return e;case WHILE:e=new Node(a,{isLoop:true});e.blockComments=n;e.condition=HeadExpression(a,b);e.body=Statement(a,b.pushTarget(e).nest());return e;case DO:e=new Node(a,{isLoop:true});e.blockComments=n;e.body=Statement(a,b.pushTarget(e).nest());a.mustMatch(WHILE);e.condition=HeadExpression(a,b);if(!b.ecmaStrictMode){a.match(SEMICOLON);return e}break;case BREAK:case CONTINUE:e=new Node(a);e.blockComments=n;l=b.pushTarget(e);if(a.peekOnSameLine()===IDENTIFIER){a.get();e.label=a.token.value}if(e.label){e.target=l.labeledTargets.find(function(a){return a.labels.has(e.label)})}else if(j===CONTINUE){e.target=l.defaultLoopTarget}else{e.target=l.defaultTarget}if(!e.target)throw a.newSyntaxError("Invalid "+(j===BREAK?"break":"continue"));if(!e.target.isLoop&&j===CONTINUE)throw a.newSyntaxError("Invalid continue");break;case TRY:e=new Node(a,{catchClauses:[]});e.blockComments=n;e.tryBlock=Block(a,b);while(a.match(CATCH)){f=new Node(a);g=MaybeLeftParen(a,b);switch(a.get()){case LEFT_BRACKET:case LEFT_CURLY:a.unget();f.varName=DestructuringExpression(a,b,true);break;case IDENTIFIER:f.varName=a.token.value;break;default:throw a.newSyntaxError("missing identifier in catch");break}if(a.match(IF)){if(b.ecma3OnlyMode)throw a.newSyntaxError("Illegal catch guard");if(e.catchClauses.length&&!e.catchClauses.top().guard)throw a.newSyntaxError("Guarded catch after unguarded");f.guard=Expression(a,b)}MaybeRightParen(a,g);f.block=Block(a,b);e.catchClauses.push(f)}if(a.match(FINALLY))e.finallyBlock=Block(a,b);if(!e.catchClauses.length&&!e.finallyBlock)throw a.newSyntaxError("Invalid try statement");return e;case CATCH:case FINALLY:throw a.newSyntaxError(definitions.tokens[j]+" without preceding try");case THROW:e=new Node(a);e.exception=Expression(a,b);break;case RETURN:e=ReturnOrYield(a,b);break;case WITH:e=new Node(a);e.blockComments=n;e.object=HeadExpression(a,b);e.body=Statement(a,b.pushTarget(e).nest());return e;case VAR:case CONST:e=Variables(a,b);break;case LET:if(a.peek()===LEFT_PAREN)e=LetBlock(a,b,true);else e=Variables(a,b);break;case DEBUGGER:e=new Node(a);break;case NEWLINE:case SEMICOLON:e=new Node(a,{type:SEMICOLON});e.blockComments=n;e.expression=null;return e;default:if(j===IDENTIFIER){j=a.peek();if(j===COLON){d=a.token.value;if(b.allLabels.has(d))throw a.newSyntaxError("Duplicate label");a.get();e=new Node(a,{type:LABEL,label:d});e.blockComments=n;e.statement=Statement(a,b.pushLabel(d).nest());e.target=e.statement.type===LABEL?e.statement.target:e.statement;return e}}e=new Node(a,{type:SEMICOLON});a.unget();e.blockComments=n;e.expression=Expression(a,b);e.end=e.expression.end;break}e.blockComments=n;MagicalSemicolon(a);return e}function Module(a){var b=a.body.exports;var c=a.body.modDefns;var d=new StringMap;b.forEach(function(a,b){var e=b.node;if(e.type===MODULE){d.set(a,e)}else if(!b.isDefinition&&e.type===IDENTIFIER&&c.has(e.value)){var f=c.get(e.value);d.set(a,f)}});this.node=a;this.exports=b;this.exportedModules=d}function registerExport(a,b){function c(b,c){if(a.has(b))throw new SyntaxError("multiple exports of "+b);a.set(b,c)}switch(b.type){case MODULE:case FUNCTION:c(b.name,new Export(b,true));break;case VAR:for(var d=0;d<b.children.length;d++)c(b.children[d].name,new Export(b.children[d],true));break;case LET:case CONST:throw new Error("NYI: "+definitions.tokens[b.type]);case EXPORT:for(var d=0;d<b.pathList.length;d++){var e=b.pathList[d];switch(e.type){case OBJECT_INIT:for(var f=0;f<e.children.length;f++){var g=e.children[f];if(g.type===IDENTIFIER)c(g.value,new Export(g,false));else c(g.children[0].value,new Export(g.children[1],false))}break;case DOT:c(e.children[1].value,new Export(e,false));break;case IDENTIFIER:c(e.value,new Export(e,false));break;default:throw new Error("unexpected export path: "+definitions.tokens[e.type])}}break;default:throw new Error("unexpected export decl: "+definitions.tokens[exp.type])}}function Export(a,b){this.node=a;this.isDefinition=b;this.resolved=null}function Block(a,b){a.mustMatch(LEFT_CURLY);var c=new Node(a,blockInit());Statements(a,b.update({parentBlock:c}).pushTarget(c),c);a.mustMatch(RIGHT_CURLY);return c}function Statements(a,b,c){try{while(!a.done&&a.peek(true)!==RIGHT_CURLY)c.push(Statement(a,b))}catch(d){if(a.done)a.unexpectedEOF=true;throw d}}function MaybeRightParen(a,b){if(b===LEFT_PAREN)a.mustMatch(RIGHT_PAREN)}function MaybeLeftParen(a,b){if(b.parenFreeMode)return a.match(LEFT_PAREN)?LEFT_PAREN:END;return a.mustMatch(LEFT_PAREN).type}function scriptInit(){return{type:SCRIPT,funDecls:[],varDecls:[],modDefns:new StringMap,modAssns:new StringMap,modDecls:new StringMap,modLoads:new StringMap,impDecls:[],expDecls:[],exports:new StringMap,hasEmptyReturn:false,hasReturnWithValue:false,isGenerator:false}}function blockInit(){return{type:BLOCK,varDecls:[]}}function tokenString(a){var b=definitions.tokens[a];return/^\W/.test(b)?definitions.opTypeNames[b]:b.toUpperCase()}function unevalableConst(a){var b=definitions.tokens[a];var c=definitions.opTypeNames.hasOwnProperty(b)?definitions.opTypeNames[b]:b in definitions.keywords?b.toUpperCase():b;return{toSource:function(){return c}}}function SyntheticNode(a,b){this.tokenizer=a;this.children=[];for(var c in b)this[c]=b[c];this.synthetic=true}function Node(a,b){var c=a.token;if(c){this.type=c.type;this.value=c.value;this.lineno=c.lineno;this.start=c.start;this.end=c.end}else{this.lineno=a.lineno}this.tokenizer=a;this.children=[];for(var d in b)this[d]=b[d]}function Script(a,b,c){var d=new Node(a,scriptInit());Statements(a,new StaticContext(d,d,b,c),d);return d}function StaticContext(a,b,c,d){this.parentScript=a;this.parentBlock=b||a;this.inModule=c||false;this.inFunction=d||false;this.inForLoopInit=false;this.topLevel=true;this.allLabels=new Stack;this.currentLabels=new Stack;this.labeledTargets=new Stack;this.defaultLoopTarget=null;this.defaultTarget=null;this.blackList=blackLists[Narcissus.options.version];Narcissus.options.ecma3OnlyMode&&(this.ecma3OnlyMode=true);Narcissus.options.parenFreeMode&&(this.parenFreeMode=true)}function pushDestructuringVarDecls(a,b){for(var c in a){var d=a[c];if(d.type===IDENTIFIER){b.varDecls.push(d)}else{pushDestructuringVarDecls(d,b)}}}var lexer=require("./jslex");var definitions=require("./jsdefs");const StringMap=definitions.StringMap;const Stack=definitions.Stack;eval(definitions.consts);const blackLists={160:{},185:{},harmony:{}};blackLists[160][IMPORT]=true;blackLists[160][EXPORT]=true;blackLists[160][LET]=true;blackLists[160][MODULE]=true;blackLists[160][YIELD]=true;blackLists[185][IMPORT]=true;blackLists[185][EXPORT]=true;blackLists[185][MODULE]=true;blackLists.harmony[WITH]=true;StaticContext.prototype={ecma3OnlyMode:false,parenFreeMode:false,update:function(a){var b={};for(var c in a){b[c]={value:a[c],writable:true,enumerable:true,configurable:true}}return Object.create(this,b)},pushLabel:function(a){return this.update({currentLabels:this.currentLabels.push(a),allLabels:this.allLabels.push(a)})},pushTarget:function(a){var b=a.isLoop;var c=b||a.type===SWITCH;if(this.currentLabels.isEmpty()){if(b)this.update({defaultLoopTarget:a});if(c)this.update({defaultTarget:a});return this}a.labels=new StringMap;this.currentLabels.forEach(function(b){a.labels.set(b,true)});return this.update({currentLabels:new Stack,labeledTargets:this.labeledTargets.push(a),defaultLoopTarget:b?a:this.defaultLoopTarget,defaultTarget:c?a:this.defaultTarget})},nest:function(){return this.topLevel?this.update({topLevel:false}):this},allow:function(a){switch(a){case EXPORT:if(!this.inModule||this.inFunction||!this.topLevel)return false;case IMPORT:return!this.inFunction&&this.topLevel;case MODULE:return!this.inFunction&&this.topLevel;default:return true}}};definitions.defineProperty(Array.prototype,"top",function(){return this.length&&this[this.length-1]},false,false,true);var Np=Node.prototype=SyntheticNode.prototype={};Np.constructor=Node;const TO_SOURCE_SKIP={type:true,value:true,lineno:true,start:true,end:true,tokenizer:true,assignOp:true};Np.toSource=function toSource(){var a={};var b=this;a.type=unevalableConst(this.type);if("value"in this)a.value=this.value;if("lineno"in this)a.lineno=this.lineno;if("start"in this)a.start=this.start;if("end"in this)a.end=this.end;if(this.assignOp)a.assignOp=unevalableConst(this.assignOp);for(var c in this){if(this.hasOwnProperty(c)&&!(c in TO_SOURCE_SKIP))a[c]=this[c]}return a.toSource()};Np.push=function(a){if(a!==null){if(a.start<this.start)this.start=a.start;if(this.end<a.end)this.end=a.end}return this.children.push(a)};Node.indentLevel=0;Np.toString=function(){var a=[];for(var b in this){if(this.hasOwnProperty(b)&&b!=="type"&&b!=="target")a.push({id:b,value:this[b]})}a.sort(function(a,b){return a.id<b.id?-1:1});const c="    ";var d=++Node.indentLevel;var e="{\n"+c.repeat(d)+"type: "+tokenString(this.type);for(b=0;b<a.length;b++)e+=",\n"+c.repeat(d)+a[b].id+": "+a[b].value;d=--Node.indentLevel;e+="\n"+c.repeat(d)+"}";return e};Np.getSource=function(){return this.tokenizer.source.slice(this.start,this.end)};const LOOP_INIT={isLoop:true};definitions.defineGetter(Np,"filename",function(){return this.tokenizer.filename});definitions.defineGetter(Np,"length",function(){throw new Error("Node.prototype.length is gone; "+"use n.children.length instead")});definitions.defineProperty(String.prototype,"repeat",function(a){var b="",c=this+b;while(--a>=0)b+=c;return b},false,false,true);const DECLARED_FORM=0,EXPRESSED_FORM=1,STATEMENT_FORM=2;module.exports={parse:parse,parseStdin:parseStdin,Node:Node,SyntheticNode:SyntheticNode,DECLARED_FORM:DECLARED_FORM,EXPRESSED_FORM:EXPRESSED_FORM,STATEMENT_FORM:STATEMENT_FORM,Tokenizer:lexer.Tokenizer,FunctionDefinition:FunctionDefinition,Module:Module,Export:Export}});define("ace/narcissus/jslex",["require","exports","module","ace/narcissus/jsdefs"],function(require,exports,module){function Tokenizer(a,b,c){this.cursor=0;this.source=String(a);this.tokens=[];this.tokenIndex=0;this.lookahead=0;this.scanNewlines=false;this.unexpectedEOF=false;this.filename=b||"";this.lineno=c||1;this.blackList=blackLists[Narcissus.options.version];this.blockComments=null}var definitions=require("./jsdefs");eval(definitions.consts);const blackLists={160:{},185:{},harmony:{}};blackLists[160][LET]=true;blackLists[160][MODULE]=true;blackLists[160][YIELD]=true;blackLists[185][MODULE]=true;var opTokens={};for(var op in definitions.opTypeNames){if(op==="\n"||op===".")continue;var node=opTokens;for(var i=0;i<op.length;i++){var ch=op[i];if(!(ch in node))node[ch]={};node=node[ch];node.op=op}}Tokenizer.prototype={get done(){return this.peek(true)===END},get token(){return this.tokens[this.tokenIndex]},match:function(a,b){return this.get(b)===a||this.unget()},mustMatch:function(a){if(!this.match(a)){throw this.newSyntaxError("Missing "+definitions.tokens[a].toLowerCase())}return this.token},peek:function(a){var b,c;if(this.lookahead){c=this.tokens[this.tokenIndex+this.lookahead&3];b=this.scanNewlines&&c.lineno!==this.lineno?NEWLINE:c.type}else{b=this.get(a);this.unget()}return b},peekOnSameLine:function(a){this.scanNewlines=true;var b=this.peek(a);this.scanNewlines=false;return b},lastBlockComment:function(){var a=this.blockComments.length;return a?this.blockComments[a-1]:null},skip:function(){var a=this.source;this.blockComments=[];for(;;){var b=a[this.cursor++];var c=a[this.cursor];if(b==="\r"){if(c==="\n")continue;b="\n"}if(b==="\n"&&!this.scanNewlines){this.lineno++}else if(b==="/"&&c==="*"){var d=++this.cursor;for(;;){b=a[this.cursor++];if(b===undefined)throw this.newSyntaxError("Unterminated comment");if(b==="*"){c=a[this.cursor];if(c==="/"){var e=this.cursor-1;this.cursor++;break}}else if(b==="\n"){this.lineno++}}this.blockComments.push(a.substring(d,e))}else if(b==="/"&&c==="/"){this.cursor++;for(;;){b=a[this.cursor++];c=a[this.cursor];if(b===undefined)return;if(b==="\r"){if(c!=="\n")b="\n"}if(b==="\n"){if(this.scanNewlines){this.cursor--}else{this.lineno++}break}}}else if(!(b in definitions.whitespace)){this.cursor--;return}}},lexExponent:function(){var a=this.source;var b=a[this.cursor];if(b==="e"||b==="E"){this.cursor++;ch=a[this.cursor++];if(ch==="+"||ch==="-")ch=a[this.cursor++];if(ch<"0"||ch>"9")throw this.newSyntaxError("Missing exponent");do{ch=a[this.cursor++]}while(ch>="0"&&ch<="9");this.cursor--;return true}return false},lexZeroNumber:function(a){var b=this.token,c=this.source;b.type=NUMBER;a=c[this.cursor++];if(a==="."){do{a=c[this.cursor++]}while(a>="0"&&a<="9");this.cursor--;this.lexExponent();b.value=parseFloat(b.start,this.cursor)}else if(a==="x"||a==="X"){do{a=c[this.cursor++]}while(a>="0"&&a<="9"||a>="a"&&a<="f"||a>="A"&&a<="F");this.cursor--;b.value=parseInt(c.substring(b.start,this.cursor))}else if(a>="0"&&a<="7"){do{a=c[this.cursor++]}while(a>="0"&&a<="7");this.cursor--;b.value=parseInt(c.substring(b.start,this.cursor))}else{this.cursor--;this.lexExponent();b.value=0}},lexNumber:function(a){var b=this.token,c=this.source;b.type=NUMBER;var d=false;do{a=c[this.cursor++];if(a==="."&&!d){d=true;a=c[this.cursor++]}}while(a>="0"&&a<="9");this.cursor--;var e=this.lexExponent();d=d||e;var f=c.substring(b.start,this.cursor);b.value=d?parseFloat(f):parseInt(f)},lexDot:function(a){var b=this.token,c=this.source;var d=c[this.cursor];if(d>="0"&&d<="9"){do{a=c[this.cursor++]}while(a>="0"&&a<="9");this.cursor--;this.lexExponent();b.type=NUMBER;b.value=parseFloat(b.start,this.cursor)}else{b.type=DOT;b.assignOp=null;b.value="."}},lexString:function(ch){var token=this.token,input=this.source;token.type=STRING;var hasEscapes=false;var delim=ch;if(input.length<=this.cursor)throw this.newSyntaxError("Unterminated string literal");while((ch=input[this.cursor++])!==delim){if(this.cursor==input.length)throw this.newSyntaxError("Unterminated string literal");if(ch==="\\"){hasEscapes=true;if(++this.cursor==input.length)throw this.newSyntaxError("Unterminated string literal")}}token.value=hasEscapes?eval(input.substring(token.start,this.cursor)):input.substring(token.start+1,this.cursor-1)},lexRegExp:function(ch){var token=this.token,input=this.source;token.type=REGEXP;do{ch=input[this.cursor++];if(ch==="\\"){this.cursor++}else if(ch==="["){do{if(ch===undefined)throw this.newSyntaxError("Unterminated character class");if(ch==="\\")this.cursor++;ch=input[this.cursor++]}while(ch!=="]")}else if(ch===undefined){throw this.newSyntaxError("Unterminated regex")}}while(ch!=="/");do{ch=input[this.cursor++]}while(ch>="a"&&ch<="z");this.cursor--;token.value=eval(input.substring(token.start,this.cursor))},lexOp:function(a){var b=this.token,c=this.source;var d=opTokens[a];var e=c[this.cursor];if(e in d){d=d[e];this.cursor++;e=c[this.cursor];if(e in d){d=d[e];this.cursor++;e=c[this.cursor]}}var f=d.op;if(definitions.assignOps[f]&&c[this.cursor]==="="){this.cursor++;b.type=ASSIGN;b.assignOp=definitions.tokenIds[definitions.opTypeNames[f]];f+="="}else{b.type=definitions.tokenIds[definitions.opTypeNames[f]];b.assignOp=null}b.value=f},lexIdent:function(a){var b=this.token;var c=a;while((a=this.getValidIdentifierChar(false))!==null){c+=a}b.type=definitions.keywords[c]||IDENTIFIER;if(b.type in this.blackList){b.type=IDENTIFIER}b.value=c},get:function(a){var b;while(this.lookahead){--this.lookahead;this.tokenIndex=this.tokenIndex+1&3;b=this.tokens[this.tokenIndex];if(b.type!==NEWLINE||this.scanNewlines)return b.type}this.skip();this.tokenIndex=this.tokenIndex+1&3;b=this.tokens[this.tokenIndex];if(!b)this.tokens[this.tokenIndex]=b={};var c=this.source;if(this.cursor>=c.length)return b.type=END;b.start=this.cursor;b.lineno=this.lineno;var d=this.getValidIdentifierChar(true);var e=d===null?c[this.cursor++]:null;if(d!==null){this.lexIdent(d)}else if(a&&e==="/"){this.lexRegExp(e)}else if(e in opTokens){this.lexOp(e)}else if(e==="."){this.lexDot(e)}else if(e>="1"&&e<="9"){this.lexNumber(e)}else if(e==="0"){this.lexZeroNumber(e)}else if(e==='"'||e==="'"){this.lexString(e)}else if(this.scanNewlines&&(e==="\n"||e==="\r")){if(e==="\r"&&c[this.cursor]==="\n")this.cursor++;b.type=NEWLINE;b.value="\n";this.lineno++}else{throw this.newSyntaxError("Illegal token")}b.end=this.cursor;return b.type},unget:function(){if(++this.lookahead===4)throw"PANIC: too much lookahead!";this.tokenIndex=this.tokenIndex-1&3},newSyntaxError:function(a){a=(this.filename?this.filename+":":"")+this.lineno+": "+a;var b=new SyntaxError(a,this.filename,this.lineno);b.source=this.source;b.cursor=this.lookahead?this.tokens[this.tokenIndex+this.lookahead&3].start:this.cursor;return b},getValidIdentifierChar:function(a){var b=this.source;if(this.cursor>=b.length)return null;var c=b[this.cursor];if(c==="\\"&&b[this.cursor+1]==="u"){try{c=String.fromCharCode(parseInt(b.substring(this.cursor+2,this.cursor+6),16))}catch(d){return null}this.cursor+=5}if(c<=""){if(c>="a"&&c<="z"||c>="A"&&c<="Z"||c==="$"||c==="_"||!a&&c>="0"&&c<="9"){this.cursor++;return c}return null}var e={};e["x"+c]=true;e[c]=true;var f=false;try{f=Function("x","return (x."+(a?"":"x")+c+");")(e)===true}catch(d){}if(f)this.cursor++;return f?c:null}};module.exports={Tokenizer:Tokenizer}});define("ace/narcissus/jsdefs",["require","exports","module"],function(require,exports,module){function Stack(a){this.elts=a||null}function searchMap(a,b,c,d){var e=a.array;for(var f=0,g=e.length;f<g;f++){var h=e[f];if(h.key===b)return c(h,f)}return d()}function ObjectMap(a){this.array=a||[]}function StringMap(a,b){this.table=a||Object.create(null,{});this.size=b||0}function hasOwn(a,b){return hasOwnProperty.call(a,b)}function makePassthruHandler(a){return{getOwnPropertyDescriptor:function(b){var c=Object.getOwnPropertyDescriptor(a,b);c.configurable=true;return c},getPropertyDescriptor:function(b){var c=getPropertyDescriptor(a,b);c.configurable=true;return c},getOwnPropertyNames:function(){return Object.getOwnPropertyNames(a)},defineProperty:function(b,c){Object.defineProperty(a,b,c)},"delete":function(b){return delete a[b]},fix:function(){if(Object.isFrozen(a)){return getOwnProperties(a)}return undefined},has:function(b){return b in a},hasOwn:function(b){return{}.hasOwnProperty.call(a,b)},get:function(b,c){return a[c]},set:function(b,c,d){a[c]=d;return true},enumerate:function(){var b=[];for(name in a){b.push(name)}return b},keys:function(){return Object.keys(a)}}}function mixinHandler(a,b){function g(a){return a in c(a)}function f(){var c=Object.getOwnPropertyNames(a).filter(function(b){return b in a[b]});for(name in b){if(!hasOwn(a,name))c.push(name)}return c}function e(){var c=Object.getOwnPropertyNames(a).filter(function(b){return b in a[b]});var d=getPropertyNames(b).filter(function(b){return!hasOwn(a,b)});return c.concat(d)}function d(a){var b=getPropertyDescriptor(c(a),a);if(b)b.configurable=true;return b}function c(c){return hasOwn(a,c)?a[c]:b}return{getOwnPropertyDescriptor:d,getPropertyDescriptor:d,getOwnPropertyNames:e,defineProperty:function(a,b){Object.defineProperty(c(a),a,b)},"delete":function(a){var b=c(a);return delete b[a]},fix:function(){},has:g,hasOwn:g,get:function(a,b){var d=c(b);return d[b]},set:function(a,b,d){var e=c(b);e[b]=d;return true},enumerate:f,keys:f}}function mirrorHandler(a,b){var c=makePassthruHandler(a);var d=c.defineProperty;c.defineProperty=function(a,c){if(!c.enumerable)throw new Error("mirror property must be enumerable");if(!c.configurable)throw new Error("mirror property must be configurable");if(c.writable!==b)throw new Error("mirror property must "+(b?"":"not ")+"be writable");d(a,c)};c.fix=function(){};c.getOwnPropertyDescriptor=c.getPropertyDescriptor;c.getOwnPropertyNames=getPropertyNames.bind(c,a);c.keys=c.enumerate;c["delete"]=function(){return false};c.hasOwn=c.has;return c}function whitelistHandler(a,b){var c=Object.create(null,{});var d=StringMap.create(b).mapObject(function(b){return a});return mixinHandler(d,c)}function blacklistHandler(a,b){var c=Object.create(null,{});var d=StringMap.create(b).mapObject(function(a){return c});return mixinHandler(d,a)}function getOwnProperties(a){var b={};for(var c in Object.getOwnPropertyNames(a))b[c]=Object.getOwnPropertyDescriptor(a,c);return b}function getPropertyNames(a){var b=Object.create(null,{});while(a){var c=Object.getOwnPropertyNames(a);for(var d=0,e=c.length;d<e;d++)b[c[d]]=true;a=Object.getPrototypeOf(a)}return Object.keys(b)}function getPropertyDescriptor(a,b){while(a){if({}.hasOwnProperty.call(a,b))return Object.getOwnPropertyDescriptor(a,b);a=Object.getPrototypeOf(a)}}function isNativeCode(a){return typeof a==="function"&&a.toString().match(/\[native code\]/)}function defineProperty(a,b,c,d,e,f){Object.defineProperty(a,b,{value:c,writable:!e,configurable:!d,enumerable:!f})}function defineMemoGetter(a,b,c,d,e){Object.defineProperty(a,b,{get:function(){var f=c();defineProperty(a,b,f,d,true,e);return f},configurable:true,enumerable:!e})}function defineGetterSetter(a,b,c,d,e,f){Object.defineProperty(a,b,{get:c,set:d,configurable:!e,enumerable:!f})}function defineGetter(a,b,c,d,e){Object.defineProperty(a,b,{get:c,configurable:!d,enumerable:!e})}var narcissus={options:{version:185,hiddenHostGlobals:{Narcissus:true},desugarExtensions:false},hostSupportsEvalConst:function(){try{return eval("(function(s) { eval(s); return x })('const x = true;')")}catch(e){return false}}(),hostGlobal:this};Narcissus=narcissus;var tokens=["END","\n",";",",","=","?",":","CONDITIONAL","||","&&","|","^","&","==","!=","===","!==","<","<=",">=",">","<<",">>",">>>","+","-","*","/","%","!","~","UNARY_PLUS","UNARY_MINUS","++","--",".","[","]","{","}","(",")","SCRIPT","BLOCK","LABEL","FOR_IN","CALL","NEW_WITH_ARGS","INDEX","ARRAY_INIT","OBJECT_INIT","PROPERTY_INIT","GETTER","SETTER","GROUP","LIST","LET_BLOCK","ARRAY_COMP","GENERATOR","COMP_TAIL","IDENTIFIER","NUMBER","STRING","REGEXP","break","case","catch","const","continue","debugger","default","delete","do","else","export","false","finally","for","function","if","import","in","instanceof","let","module","new","null","return","switch","this","throw","true","try","typeof","var","void","yield","while","with"];var statementStartTokens=["break","const","continue","debugger","do","for","if","return","switch","throw","try","var","yield","while","with"];var whitespaceChars=["\t","","\f"," "," ","﻿"," ","᠎"," "," "," "," "," "," "," "," "," "," "," "," "," ","　"];var whitespace={};for(var i=0;i<whitespaceChars.length;i++){whitespace[whitespaceChars[i]]=true}var opTypeNames={"\n":"NEWLINE",";":"SEMICOLON",",":"COMMA","?":"HOOK",":":"COLON","||":"OR","&&":"AND","|":"BITWISE_OR","^":"BITWISE_XOR","&":"BITWISE_AND","===":"STRICT_EQ","==":"EQ","=":"ASSIGN","!==":"STRICT_NE","!=":"NE","<<":"LSH","<=":"LE","<":"LT",">>>":"URSH",">>":"RSH",">=":"GE",">":"GT","++":"INCREMENT","--":"DECREMENT","+":"PLUS","-":"MINUS","*":"MUL","/":"DIV","%":"MOD","!":"NOT","~":"BITWISE_NOT",".":"DOT","[":"LEFT_BRACKET","]":"RIGHT_BRACKET","{":"LEFT_CURLY","}":"RIGHT_CURLY","(":"LEFT_PAREN",")":"RIGHT_PAREN"};var keywords={"__proto__":null};var tokenIds={};var consts=Narcissus.hostSupportsEvalConst?"const ":"var ";for(var i=0,j=tokens.length;i<j;i++){if(i>0)consts+=", ";var t=tokens[i];var name;if(/^[a-z]/.test(t)){name=t.toUpperCase();keywords[t]=i}else{name=/^\W/.test(t)?opTypeNames[t]:t}consts+=name+" = "+i;tokenIds[name]=i;tokens[t]=i}consts+=";";var isStatementStartCode={"__proto__":null};for(i=0,j=statementStartTokens.length;i<j;i++)isStatementStartCode[keywords[statementStartTokens[i]]]=true;var assignOps=["|","^","&","<<",">>",">>>","+","-","*","/","%"];for(i=0,j=assignOps.length;i<j;i++){t=assignOps[i];assignOps[t]=tokens[t]}var hasOwnProperty={}.hasOwnProperty;StringMap.create=function(a){var b=Object.create(null,{});var c=0;var d=Object.getOwnPropertyNames(a);for(var e=0,f=d.length;e<f;e++){var g=d[e];b[g]=a[g];c++}return new StringMap(b,c)};StringMap.prototype={has:function(a){return hasOwnProperty.call(this.table,a)},set:function(a,b){if(!hasOwnProperty.call(this.table,a))this.size++;this.table[a]=b},get:function(a){return this.table[a]},getDef:function(a,b){if(!hasOwnProperty.call(this.table,a)){this.size++;this.table[a]=b()}return this.table[a]},forEach:function(a){var b=this.table;for(var c in b)a.call(this,c,b[c])},map:function(a){var b=this.table;var c=Object.create(null,{});this.forEach(function(b,d){c[b]=a.call(this,d,b)});return new StringMap(c,this.size)},mapObject:function(a){var b=this.table;var c=Object.create(null,{});this.forEach(function(b,d){c[b]=a.call(this,d,b)});return c},toObject:function(){return this.mapObject(function(a){return a})},choose:function(){return Object.getOwnPropertyNames(this.table)[0]},remove:function(a){if(hasOwnProperty.call(this.table,a)){this.size--;delete this.table[a]}},copy:function(){var a=Object.create(null,{});for(var b in this.table)a[b]=this.table[b];return new StringMap(a,this.size)},toString:function(){return"[object StringMap]"}};ObjectMap.prototype={has:function(a){return searchMap(this,a,function(){return true},function(){return false})},set:function(a,b){var c=this.array;searchMap(this,a,function(a){a.value=b},function(){c.push({key:a,value:b})})},get:function(a){return searchMap(this,a,function(a){return a.value},function(){return null})},getDef:function(a,b){var c=this.array;return searchMap(this,a,function(a){return a.value},function(){var d=b();c.push({key:a,value:d});return d})},forEach:function(a){var b=this.array;for(var c=0,d=b.length;c<d;c++){var e=b[c];a.call(this,e.key,e.value)}},choose:function(){return this.array[0].key},get size(){return this.array.length},remove:function(a){var b=this.array;searchMap(this,a,function(a,c){b.splice(c,1)},function(){})},copy:function(){return new ObjectMap(this.array.map(function(a){return{key:a.key,value:a.value}}))},clear:function(){this.array=[]},toString:function(){return"[object ObjectMap]"}};Stack.prototype={push:function(a){return new Stack({top:a,rest:this.elts})},top:function(){if(!this.elts)throw new Error("empty stack");return this.elts.top},isEmpty:function(){return this.top===null},find:function(a){for(var b=this.elts;b;b=b.rest){if(a(b.top))return b.top}return null},has:function(a){return Boolean(this.find(function(b){return b===a}))},forEach:function(a){for(var b=this.elts;b;b=b.rest){a(b.top)}}};module.exports={tokens:tokens,whitespace:whitespace,opTypeNames:opTypeNames,keywords:keywords,isStatementStartCode:isStatementStartCode,tokenIds:tokenIds,consts:consts,assignOps:assignOps,defineGetter:defineGetter,defineGetterSetter:defineGetterSetter,defineMemoGetter:defineMemoGetter,defineProperty:defineProperty,isNativeCode:isNativeCode,mirrorHandler:mirrorHandler,mixinHandler:mixinHandler,whitelistHandler:whitelistHandler,blacklistHandler:blacklistHandler,makePassthruHandler:makePassthruHandler,StringMap:StringMap,ObjectMap:ObjectMap,Stack:Stack}})